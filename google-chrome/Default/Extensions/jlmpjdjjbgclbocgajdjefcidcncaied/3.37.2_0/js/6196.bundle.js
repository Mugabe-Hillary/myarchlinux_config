"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[6196],{44481:(e,t,n)=>{n.d(t,{A:()=>O});var o=n(89338),r=n(98093),a=n(2827),i=n.n(a),l=n(22155),s=n(19217),c=n(27179),u=n(63913),d=n(9064),m=n(52645),p=n(46721),f=n(61663),v=n(11924),h=n(5196),b=n(57952),y=n(77955),g=n(89883),x=n(63037),w=n(70962),k=n(83448),N=n(2941),A=n(37673),P=n(38638),C=l.createElement;function O(e){var t=e.post,n=t.commentsPermalink,a=A.p.SharePost,O=(0,N.h)().getShortUrl,S=(0,m.D)(),j=(0,r.A)(S,2),E=j[0],L=j[1],F=(0,l.useContext)(f.Ay).logEvent,M=(0,g.d)().openModal,T=function(e){return F((0,v.P5)("share post",t,{extra:{provider:e,origin:b.$e.ShareBar}}))},I=function(){var e=(0,o.A)(i().mark((function e(o){var r,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(o),e.next=3,O(n,a);case 3:r=e.sent,l=(0,p.g6)({provider:o,link:r,text:null==t?void 0:t.title}),window.open(l,"_blank");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=(0,o.A)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(n,a);case 2:t=e.sent,L({link:t}),T(p.JA.CopyLink);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return C(h.uM,{className:"hidden flex-col p-3 laptop:flex"},C("p",{className:"mb-4 text-text-tertiary typo-callout"},"Would you recommend this post?"),C("div",{className:"grid grid-cols-4 gap-2 gap-y-4"},C(x.$,{size:k.Mp.Medium,variant:k.Ak.Tertiary,onClick:D,pressed:E,icon:C(s.T,{className:E&&"text-accent-avocado-default",secondary:E}),label:E?"Copied!":"Copy link"}),C(x.$,{size:k.Mp.Medium,variant:k.Ak.Tertiary,icon:C(c.Y,{secondary:!0}),className:"text-white",onClick:function(){return I(p.JA.WhatsApp)},label:"WhatsApp"}),C(x.$,{size:k.Mp.Medium,variant:k.Ak.Tertiary,icon:C(u.i,{secondary:!0}),onClick:function(){return I(p.JA.Facebook)},label:"Facebook"}),C(x.$,{size:k.Mp.Medium,variant:k.Ak.Tertiary,icon:C(d.F,null),onClick:function(){return I(p.JA.Twitter)},label:"X"}),C(w.g,{size:k.Mp.Medium,squadAvatarSize:P.Ov.Large,onClick:function(e,n){return function(e){F((0,v.P5)(b.VB.StartShareToSquad,t)),M({type:y.K2.CreateSharedPost,props:{squad:e,preview:t,onSharedSuccessfully:function(){return F((0,v.P5)(b.VB.ShareToSquad,t))}}})}(n)}})))}},22514:(e,t,n)=>{n.d(t,{_:()=>b});var o=n(98093),r=n(22155),a=n(26540),i=n(20861),l=n(52645),s=n(53823),c=n(83448),u=n(19505),d=n(5196),m=n(11924),p=n(57952),f=n(61663),v=n(72549),h=r.createElement;function b(e){var t=e.onCopyPostLink,n=e.post,r=e.link,b=e.origin,y=(0,l.D)(r),g=(0,o.A)(y,1)[0],x=(0,v.P)(b).openSharePost,w=(0,f.DX)().logEvent;return h(d.uM,{className:"flex flex-col items-start gap-2 p-3 laptop:hidden"},h(s.$n,{size:c.Mp.Small,onClick:t,pressed:g,icon:h(a.q,null),variant:c.Ak.Tertiary,color:u.h.Avocado},g?"Copied!":"Copy link"),h(s.$n,{size:c.Mp.Small,onClick:function(){w((0,m.P5)(p.VB.StartShareToSquad,n)),x({post:n})},icon:h(i.l,null),variant:c.Ak.Tertiary,color:u.h.Cabbage},"Share with your friends"))}},97789:(e,t,n)=>{n.d(t,{j:()=>c});var o=n(22155),r=n(30395),a=n.n(r),i=n(54883),l=n(76800),s=o.createElement,c=function(e){var t=e.className;return s("footer",{className:"z-1 pb-4"},s("nav",null,s("ul",{className:a()(t,"mb-4 flex flex-row flex-wrap justify-center gap-3 text-text-tertiary typo-caption1")},s("li",null,"Â© ",(new Date).getFullYear()," Daily Dev Ltd."),s("li",null,s("a",{href:i.fX,target:"_blank",rel:l.O8},"Guidelines")),s("li",null,s("a",{href:"".concat(i.ZO,"posts")},"Explore")),s("li",null,s("a",{href:"".concat(i.ZO,"tags")},"Tags")),s("li",null,s("a",{href:"".concat(i.ZO,"sources")},"Sources")),s("li",null,s("a",{href:"".concat(i.ZO,"squads")},"Squads")),s("li",null,s("a",{href:"".concat(i.ZO,"users")},"Leaderboard")))))}},92575:(e,t,n)=>{n.d(t,{D:()=>p});var o,r=n(7527),a=n(22155),i=n(97838);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(null,arguments)}const s=function(e){return a.createElement("svg",l({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),o||(o=a.createElement("path",{d:"M5.75 6h12.5a.75.75 0 110 1.5H5.75a.75.75 0 010-1.5zm0 5h12.5a.75.75 0 110 1.5H5.75a.75.75 0 110-1.5zm0 5h6.5a.75.75 0 110 1.5h-6.5a.75.75 0 110-1.5z",fill:"currentcolor",fillRule:"evenodd"})))};var c;function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u.apply(null,arguments)}const d=function(e){return a.createElement("svg",u({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),c||(c=a.createElement("path",{d:"M12.5 16a1 1 0 01.117 1.993L12.5 18h-7a1 1 0 01-.117-1.993L5.5 16h7zm6-5a1 1 0 01.117 1.993L18.5 13h-13a1 1 0 01-.117-1.993L5.5 11h13zm0-5a1 1 0 01.117 1.993L18.5 8h-13a1 1 0 01-.117-1.993L5.5 6h13z",fill:"currentcolor",fillRule:"evenodd"})))};var m=a.createElement,p=function(e){return m(i.Ay,(0,r.A)({},e,{IconPrimary:s,IconSecondary:d}))}},99391:(e,t,n)=>{n.d(t,{A:()=>O});var o=n(7527),r=n(75087),a=n(22155),i=n(30395),l=n.n(i),s=n(94198);const c="_29h7Y86KWZAFwDQZdpKlfQ==";var u=n(9062),d=n(5196),m=a.createElement,p=function(){return m("article",{"aria-busy":!0,className:"relative flex items-start py-2 pl-4 pr-2"},m(u._,{className:"w-7 h-7 rounded-full mt-1"}),m("div",{className:"flex flex-col ml-3 mr-2 flex-1"},m(d.xN,{className:"w-4/5"}),m(d.xN,{className:"w-4/5"}),m(d.xN,{className:"w-2/5"})))},f=n(16714),v=n(78907),h=n(12034),b=n(63423),y=a.createElement,g=(0,b.A)("div","flex flex-col flex-1 p-8"),x=function(e){var t=e.children;return y(d.uM,null,y(d.xN,{className:"my-4 ml-6 w-2/5"}),y(d.pC,null),t,y(d.pC,null),y(d.xN,{className:"my-4 ml-6 w-2/5",style:{height:"1.25rem"}}))},w=function(e){var t=e.shouldShowWidgets,n=void 0===t||t,o=e.className;return y(a.Fragment,null,y(g,{className:o},y(u._,{className:"my-2 mb-8 h-8 w-3/5 rounded-10"}),y(v.B,{padding:"p-0 gap-2",textClassName:"h-4"}),y("div",{className:"my-8 flex flex-row gap-2"},y(u._,{className:"h-6 w-20 rounded-10"}),y(u._,{className:"h-6 w-20 rounded-10"})),y(u._,{className:"h-52 w-4/5 rounded-16"}),y(u._,{className:"my-8 h-8 w-2/5 rounded-10"}),y(d.pC,null),y(h.A,null)),n&&y(f.P8,{className:"flex-1 p-8"},y(d.xN,null),y(x,null,y(p,null),y(p,null),y(p,null)),y(x,null,y(v.B,null),y(v.B,null),y(v.B,null))))},k=n(30606),N=a.createElement;const A=function(e){var t=e.type,n=e.className,o=e.hasNavigation;return t?N(k.A,{hasNavigation:o,className:l()(n,"laptop:flex-row laptop:pb-0")},N(w,{className:"tablet:border-r tablet:border-border-subtlest-tertiary"})):null};var P=["className","children","isLoading","postType","source","loadingClassName"],C=a.createElement;const O=function(e){var t=e.className,n=e.children,a=e.isLoading,i=e.postType,u=(e.source,e.loadingClassName),d=(0,r.A)(e,P);return C(s.aF,(0,o.A)({size:s.aF.Size.XLarge,kind:s.aF.Kind.FlexibleTop,portalClassName:c,id:"post-modal"},d,{overlayClassName:"post-modal-overlay bg-overlay-quaternary-onion",className:l()(t,"laptop: mx-auto !bg-background-default focus:outline-none tablet:h-full laptop:h-auto laptop:overflow-hidden")}),a?C(A,{hasNavigation:!0,type:i,className:u}):n)}},9008:(e,t,n)=>{n.d(t,{N:()=>bt});var o=n(7527),r=n(36797),a=n.n(r),i=n(22155),l=n(30395),s=n.n(l),c=n(98093),u=n(80244),d=n(91110),m=n(66167),p=n(28926),f=n(75087),v=n(9487),h=n(38638),b=n(83448),y=n(53823),g=n(41536),x=n(74502),w=n(61663),k=n(11924),N=n(57952),A=n(55059),P=["className","size","onCommented","post"],C=["comment"],O=i.createElement,S=a()((function(){return Promise.all([n.e(4481),n.e(2408)]).then(n.bind(n,98474))}),{loadableGenerated:{webpack:function(){return[98474]}}}),j={large:b.Mp.Medium,medium:b.Mp.Small};function E(e,t){var n=e.className,r=e.size,a=void 0===r?h.Ov.Large:r,l=e.onCommented,c=e.post,d=(0,f.A)(e,P),m=(0,v.useRouter)(),E=(0,w.DX)().logEvent,L=(0,u.Z2)(),F=L.user,M=L.showLogin,T=(0,i.useState)(void 0),I=T[0],D=T[1],z=(0,i.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";E((0,k.P5)(N.VB.OpenComment,c,{extra:{origin:e}})),D(t)}),[c,E,D]),q="string"==typeof m.query.comment;(0,i.useEffect)((function(){if(q&&c.type===A.xj.Welcome){var e=m.query,t=e.comment,n=(0,f.A)(e,C);z(N.$e.SquadChecklist,t),m.replace({pathname:m.pathname,query:n},void 0,{shallow:!0})}}),[c,q,z,m]);var R=function(e){return F?z(e):M({trigger:p._f.NewComment})};if((0,i.useImperativeHandle)(t,(function(){return{onShowInput:R}})),void 0!==I)return O(S,(0,o.A)({},d,{post:c,className:{input:{container:"my-4",tab:null==n?void 0:n.tab}},onCommented:function(e,t){D(void 0),null==l||l(e,t)},initialContent:I,onClose:function(){return D(void 0)}}));var $="hidden tablet:flex";return O("button",{type:"button",className:s()("flex w-full items-center gap-4 rounded-16 border-t border-border-subtlest-tertiary bg-blur-highlight p-3 typo-callout hover:border-border-subtlest-primary hover:bg-surface-hover tablet:border tablet:bg-surface-float",null==n?void 0:n.container),onClick:function(){return R(N.$e.StartDiscussion)}},F?O(h.Y3,{user:F,size:a,nativeLazyLoading:!0,className:$}):O(g._V,{src:x.Tv.avatar,alt:"Placeholder image for anonymous user",className:s()($,(0,h.ko)(h.Ov.Large)),"aria-hidden":!0,fetchPriority:"low",height:40,loading:"lazy",role:"presentation",width:40}),O("span",{className:"text-text-tertiary"},"Share your thoughts"),O(y.$n,{size:j[a],className:"ml-auto hidden text-text-primary tablet:flex",variant:b.Ak.Secondary,tag:"a",disabled:!0},"Post"))}var L=(0,i.forwardRef)(E),F=n(50122),M=n(89338),T=n(2827),I=n.n(T),D=n(88193),z=n(74921),q=n(32052),R=n(11394),$=n(26540),B=n(89875),K=n(90087),U=n(87053),_=n(21861),Z=n(27504),V=n(22375),W=n(84660),Q=n(73216),H=n(19505),G=n(15215),X=n(77955),Y=n(89883),J=n(36599),ee=n(37567),te=n(30530),ne=n(13713),oe=n(69918),re=i.createElement;function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,F.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e){var t,n,o,r,a,l,d,m,f,v,h,y=e.onCopyLinkClick,g=e.post,x=e.onComment,w=e.origin,k=void 0===w?N.$e.ArticlePage:w,P=(0,u.Z2)(),C=P.showLogin,O=P.user,S=(0,Y.d)().openModal,j=(0,W.L)(g),E=j.data,L=j.onShowPanel,F=j.onClose,T=E.showTagsPanel,ae=(0,i.useRef)(null),le=(0,ne.G4)({sendingUser:O,receivingUser:g.author}),se=(0,K.o)(),ce=se.toggleUpvote,ue=se.toggleDownvote,de=(0,Q.C)().toggleBookmark,me=function(){var e=(0,M.A)(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de({post:g,origin:k});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=(0,M.A)(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(null==g||null===(t=g.userState)||void 0===t?void 0:t.vote)===A.mj.None&&F(!0),e.next=3,ce({payload:g,origin:k});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=(0,M.A)(I().mark((function e(){var t;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(null===(t=g.userState)||void 0===t?void 0:t.vote)!==A.mj.Down?L():F(!0),e.next=3,ue({payload:g,origin:k});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(e){var t=e.queryKey,n=(0,oe.jE)();return[(0,i.useCallback)((function(){return structuredClone(n.getQueryData(t))}),[n,t]),(0,i.useCallback)((function(e){return n.setQueryData(t,e)}),[n,t])]}((0,ee.H9)()),he=(0,c.A)(ve,1)[0];return(0,U.K)({matcher:function(e){var t=e.mutation,n=Array.isArray(t.options.mutationKey)?t.options.mutationKey:[];return"awards"===(0,c.A)(n,1)[0]},callback:function(e){var t=e.variables,n=e.queryClient,o=t,r=o.entityId,a=o.type,i=o.note,l=o.productId;if(n.invalidateQueries({queryKey:(0,te.$h)(te.jZ.Transactions,O),exact:!1}),n.invalidateQueries({queryKey:(0,te.$h)(te.jZ.Products,null,"summary")}),n.invalidateQueries({queryKey:(0,te.$h)(te.jZ.Awards,null,{id:r,type:a}),exact:!1}),"POST"===a){var s,c,u;if(r!==g.id)return;var d=null===(s=he())||void 0===s||null===(s=s.edges.find((function(e){return e.node.id===l})))||void 0===s?void 0:s.node;(0,te.kh)(n,g.id,{userState:ie(ie({},g.userState),{},{awarded:!0}),numAwards:(g.numAwards||0)+1,featuredAward:null===(c=g.featuredAward)||void 0===c||null===(c=c.award)||void 0===c||!c.value||(null==d?void 0:d.value)>(null===(u=g.featuredAward)||void 0===u||null===(u=u.award)||void 0===u?void 0:u.value)?{award:d}:g.featuredAward})}(i||"COMMENT"===a)&&n.invalidateQueries({queryKey:(0,te.$h)(te.jZ.PostComments,void 0,{postId:g.id}),exact:!1})}}),(0,i.useEffect)((function(){var e=new ResizeObserver((function(){!function(){var e=ae.current;if(e){var t=e.querySelectorAll(".btn-quaternary label");t.forEach((function(e){return e.classList.remove("hidden")})),e.scrollWidth>e.clientWidth&&t.forEach((function(e){return e.classList.add("hidden")}))}}()}));return ae.current&&globalThis&&e.observe(ae.current),function(){e.disconnect()}}),[null==g||null===(t=g.userState)||void 0===t?void 0:t.awarded,le]),re(Z.A,{condition:void 0!==T,wrapper:function(e){return re("div",{className:"flex flex-col"},e,re(V.i,{post:g,className:"mt-4",toastOnSuccess:!1}))}},re("div",{className:"flex items-center rounded-16 border border-border-subtlest-tertiary"},re(_.Zp,{className:s()("flex !flex-row gap-2 hover:border-border-subtlest-tertiary",{"border-accent-avocado-default hover:!border-accent-avocado-default bg-theme-overlay-float-avocado":(null==g||null===(n=g.userState)||void 0===n?void 0:n.vote)===A.mj.Up,"border-accent-ketchup-default hover:!border-accent-ketchup-default bg-theme-overlay-float-ketchup":(null==g||null===(o=g.userState)||void 0===o?void 0:o.vote)===A.mj.Down})},re(B.f,{id:"upvote-post-btn",pressed:(null==g||null===(r=g.userState)||void 0===r?void 0:r.vote)===A.mj.Up,onClick:pe,icon:re(D.l,{secondary:(null==g||null===(a=g.userState)||void 0===a?void 0:a.vote)===A.mj.Up}),"aria-label":"Upvote",variant:b.Ak.Tertiary,color:H.h.Avocado}),re(B.f,{id:"downvote-post-btn",pressed:(null==g||null===(l=g.userState)||void 0===l?void 0:l.vote)===A.mj.Down,onClick:fe,icon:re(z.y,{secondary:(null==g||null===(d=g.userState)||void 0===d?void 0:d.vote)===A.mj.Down}),"aria-label":"Downvote",variant:b.Ak.Tertiary,color:H.h.Ketchup})),re("div",{className:"flex flex-1 items-center justify-between gap-x-1 overflow-hidden py-2 pl-4 pr-6",ref:ae},re(B.f,{id:"comment-post-btn",pressed:g.commented,onClick:x,icon:re(q.u,{secondary:g.commented}),"aria-label":"Comment",className:"btn-tertiary-blueCheese"},"Comment"),le&&re(Z.A,{condition:null==g||null===(m=g.userState)||void 0===m?void 0:m.awarded,wrapper:function(e){return re(J.S,{content:"You already awarded this post!"},re("div",null,e))}},re(B.f,{id:"award-post-btn",pressed:null==g||null===(f=g.userState)||void 0===f?void 0:f.awarded,onClick:function(){return O?S({type:X.K2.GiveAward,props:{type:"POST",entity:{id:g.id,receiver:g.author,numAwards:g.numAwards},post:g}}):C({trigger:p._f.GiveAward})},icon:re(R.Q,{secondary:!(null!=g&&null!==(v=g.userState)&&void 0!==v&&v.awarded)}),className:s()("btn-tertiary-cabbage",(null==g||null===(h=g.userState)||void 0===h?void 0:h.awarded)&&"pointer-events-none")},"Award")),re(G.T,{post:g,contextMenuId:"post-content-bookmark",buttonProps:{id:"bookmark-post-btn",pressed:g.bookmarked,onClick:me,className:"btn-tertiary-bun"}},"Bookmark"),re(B.f,{id:"copy-post-btn",onClick:function(){return y(g)},icon:re($.q,null),className:"btn-tertiary-cabbage"},"Copy"))))}var se=n(14243),ce=n(99604),ue=n(59452),de=n(12034),me=n(91201),pe=n(54883),fe=n(99947),ve=n(16714),he=n(68390),be=n(84295);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){(0,F.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=i.createElement;function we(e){var t,n,o=e.post,r=e.origin,a=e.sortBy,l=e.onShare,s=e.onClickUpvote,d=e.modalParentSelector,m=e.permissionNotificationCommentId,p=e.joinNotificationCommentId,f=e.className,v=void 0===f?{}:f,h=e.onCommented,b=o.id,y=(0,i.useRef)(),g=(0,i.useContext)(u.Ay).tokenRefreshed,x=(0,me.D)().requestMethod,w=(0,te.HY)({postId:b,sortBy:a}),k=(0,se.I)({queryKey:w,queryFn:function(){var e;return x(ce.Jk,(e={postId:b},(0,F.A)(e,pe.Cp,N),(0,F.A)(e,"first",500),(0,F.A)(e,"sortBy",a),e),{requestKey:JSON.stringify(w)})},enabled:!!b&&g,refetchInterval:6e4,refetchOnWindowFocus:!1}),N=k.data,A=k.isLoading;!function(e){var t=e.queryKey;(0,U.K)({matcher:be.cI,callback:function(e){var n=e.mutation,o=e.variables,r=e.queryClient,a=r.getQueryData(t),i=n.options.mutationKey,l=(0,c.A)(i,1)[0];if(a){var s=be.WK[l],u=o,d=u.id,m=u.entity;r.setQueryData(t,(function(e){return ge(ge({},e),{},{postComments:ge(ge({},e.postComments),{},{edges:e.postComments.edges.map((function(e){var t=(0,te.N9)({data:e.node,status:s,entityId:d,entity:m});return ge(ge({},e),{},{node:t})}))})})}))}}})}({queryKey:w});var P=((null===globalThis||void 0===globalThis||null===(t=globalThis.window)||void 0===t?void 0:t.location)||{}).hash,C=(null==N||null===(n=N.postComments)||void 0===n||null===(n=n.edges)||void 0===n?void 0:n.length)||0,O=(0,i.useRef)(null),S=(0,fe.y)().deleteComment,j=(0,i.useState)(!!P),E=j[0],L=j[1];return(0,i.useEffect)((function(){C>0&&E&&O.current&&(O.current.scrollIntoView({block:"center",inline:"nearest"}),L(!1))}),[C,E]),A||(0,he.hX)(N)?xe(de.A,{placeholderAmount:o.numComments}):0===C?xe("div",{className:"mb-12 mt-8 text-center text-text-quaternary typo-subhead"},"Be the first to comment."):xe("div",{className:"-mx-4 mb-12 mt-6 flex flex-col gap-4 mobileL:mx-0",ref:y},N.postComments.edges.map((function(e,t){var n,a;return xe(ue.A,{className:{commentBox:v},post:o,origin:r,commentHash:P,commentRef:O,comment:e.node,key:e.node.id,onShare:l,onDelete:function(e,t){return S(e.id,t,o)},onShowUpvotes:s,postAuthorId:null===(n=o.author)||void 0===n?void 0:n.id,postScoutId:null===(a=o.scout)||void 0===a?void 0:a.id,appendTooltipTo:null!=d?d:function(){return null==y?void 0:y.current},permissionNotificationCommentId:m,joinNotificationCommentId:p,onCommented:h,lazy:!P&&t>=ve.hV})})))}var ke=n(51034),Ne=n(81602),Ae=i.createElement;function Pe(e){var t,n=e.post,o=e.onUpvotesClick,r=(0,Y.d)().openModal,a=n.numUpvotes||0,l=n.numComments||0,s=n.numAwards||0,c=a>0||l>0||n.views>0||s>0,u=(0,ne.f1)();return c?Ae("div",{className:"mb-5 flex flex-wrap items-center gap-x-4 !leading-7 text-text-tertiary typo-callout","data-testid":"statsBar"},n.views>0&&Ae("span",null,(0,Ne.Kt)(n.views)," Views"),a>0&&Ae(ke.S,{onClick:function(){return o(a)}},(0,Ne.Kt)(a)," Upvote",a>1?"s":""),l>0&&Ae("span",null,(0,Ne.Kt)(l)," Comment".concat(1===l?"":"s")),u&&s>0&&Ae(ke.S,{onClick:function(){r({type:X.K2.ListAwards,props:{queryProps:{id:n.id,type:"POST"}}})}},Ae("span",{className:"flex items-center gap-1"},!(null===(t=n.featuredAward)||void 0===t||!t.award)&&Ae(g._V,{src:n.featuredAward.award.image,alt:n.featuredAward.award.name,className:"size-6"}),(0,Ne.Kt)(s)," Award".concat(1===s?"":"s")))):Ae(i.Fragment,null)}var Ce=n(48389),Oe=n(7848),Se=n(34086),je=n(13634),Ee=n(46721),Le=n(2941),Fe=n(37673),Me=n(68219),Te=i.createElement;function Ie(e){var t=e.post,n=(0,je.H)({post:t}),o=n.onInteract,r=n.interaction,a=(0,Le.h)({query:{url:t.commentsPermalink,cid:Fe.p.SharePost,enabled:"upvote"===r}}),i=a.isLoading,l=a.shareLink;return"upvote"!==r||i?null:Te(Me.m,{className:"mt-6",title:"Should anyone else see this post?"},Te(Se.U,{className:{container:"w-full flex-1"},link:l,onCopy:function(){return o("none")},logProps:(0,k.P5)("share post",t,{extra:{provider:Ee.JA.CopyLink,origin:N.$e.PostContent}})}))}var De,ze=n(87822),qe=n(9495),Re=n(71623),$e=n(55194),Be=n(16763),Ke=n(24824),Ue=n(17984),_e=n(92315),Ze=n(67274),Ve=n(76573),We=n(67371),Qe=n(71838),He=i.createElement,Ge=function(e){var t=e.postId,n=(0,w.DX)().logEvent,o=(0,u.Z2)().user,r=(0,_e.L)().isPlus,a=(0,se.I)({queryKey:(0,te.$h)(te.jZ.Ads,o,t),queryFn:Ue.le,enabled:!0,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1,staleTime:te.b2.OneHour}),l=a.data,s=a.refetch,c=a.isFetching,d=a.isRefetching,m=(0,i.useCallback)((function(e){n((0,k.Mk)(e,l,{extra:{origin:"post page"}}))}),[n,l]),p=(0,i.useCallback)((0,M.A)(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(Ue.Jz.Refresh),e.next=3,s();case 3:case"end":return e.stop()}}),e)}))),[m,s]);if((0,i.useEffect)((function(){l&&(null==l?void 0:l.impressionStatus)!==Qe.IO.LOGGED&&(m(Ue.Jz.Impression),l.impressionStatus=Qe.IO.LOGGED)}),[l,m]),!l)return null;if(c&&!d)return He(de.A,{placeholderAmount:1});var f=l.providerId,v=l.source,y=l.image,g=l.description,x=l.pixel,N=l.company,A=l.tagLine;return He("div",{className:"relative mt-6 flex flex-wrap rounded-16 border border-border-subtlest-tertiary p-4 hover:bg-surface-hover focus:outline"},He($e.A,{ad:l,onLinkClick:function(){return m(Ue.Jz.Click)}}),He(h.Y3,{nativeLazyLoading:!0,className:"!inline-block",size:h.Ov.Large,user:{id:f,username:v,image:y},fallbackSrc:Be.uC,style:{backgroundColor:null==l?void 0:l.backgroundColor}}),He("div",{className:"ml-3"},He(ve.mE,{className:"commentAuthor flex w-fit font-bold text-text-primary typo-callout"},N),He(ve.mE,{className:"flex w-fit text-text-quaternary typo-callout"},"Promoted by ",v)),He("div",{className:"z-1 ml-auto flex gap-1"},He(Ve.F,{variant:b.Ak.Tertiary,onClick:p,loading:d}),!r&&He(Ze.m,{iconOnly:!0,variant:b.Ak.Tertiary,icon:He(We.d,null)})),He("p",{className:"mt-3 w-full text-text-primary typo-body"},He("b",null,A),He("br",null),g),He(Ke.W,{pixel:x}))},Xe=n(67380),Ye=n(97838);function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Je.apply(null,arguments)}const et=function(e){return i.createElement("svg",Je({width:"1em",height:"1em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),De||(De=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.663 5.748a.625.625 0 00-1.245.085v6.826l-1.434-1.432-.07-.06a.626.626 0 00-.814.943L5.6 14.61c.02.02.043.04.07.06l.073.046.057.028.088.03.031.007.076.01.048.002c.063 0 .124-.01.182-.027l.086-.034.074-.041a.629.629 0 00.1-.081l2.501-2.499.06-.07a.624.624 0 00-.06-.813l-.07-.06a.626.626 0 00-.814.06l-1.434 1.432V5.833l-.006-.085zm4.379-.54a.625.625 0 100 1.25h5.416a.625.625 0 100-1.25h-5.416zm0 4.167a.625.625 0 100 1.25h3.75a.625.625 0 100-1.25h-3.75zm-.625 4.792c0-.345.28-.625.625-.625h2.083a.625.625 0 010 1.25h-2.083a.625.625 0 01-.625-.625z",fill:"currentcolor"})))};var tt;function nt(){return nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},nt.apply(null,arguments)}const ot=function(e){return i.createElement("svg",nt({width:"1em",height:"1em",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),tt||(tt=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.663 5.748a.625.625 0 00-1.245.085v6.826l-1.434-1.432-.07-.06a.626.626 0 00-.814.943L5.6 14.61c.02.02.043.04.07.06l.073.046.057.028.088.03.031.007.076.01.048.002c.063 0 .124-.01.182-.027l.086-.034.074-.041a.629.629 0 00.1-.081l2.501-2.499.06-.07a.624.624 0 00-.06-.813l-.07-.06a.626.626 0 00-.814.06l-1.434 1.432V5.833l-.006-.085zm4.379-.54a.625.625 0 100 1.25h5.416a.625.625 0 100-1.25h-5.416zm0 4.167a.625.625 0 100 1.25h3.75a.625.625 0 100-1.25h-3.75zm-.625 4.792c0-.345.28-.625.625-.625h2.083a.625.625 0 010 1.25h-2.083a.625.625 0 01-.625-.625z",fill:"currentcolor"})))};var rt=i.createElement,at=function(e){return rt(Ye.Ay,(0,o.A)({},e,{IconPrimary:et,IconSecondary:ot}))},it=n(68276),lt=n(85745),st=n(52045),ct=i.createElement,ut=a()((function(){return n.e(2105).then(n.bind(n,11859))}),{loadableGenerated:{webpack:function(){return[11859]}}});const dt=function(e){var t=e.post,n=e.onCopyLinkClick,o=e.logOrigin,r=e.shouldOnboardAuthor,a=(0,qe.d)().completeAction,l=["post",t.id],s=(0,st.Mp)(),f=s.sortCommentsBy,v=s.updateSortCommentsBy,h=(0,u.Z2)(),g=h.user,x=h.showLogin,w=(0,_e.L)().isPlus,k=(0,i.useRef)(),A=(0,i.useState)(!1),P=A[0],C=A[1],O=(0,i.useState)(),S=O[0],j=O[1],E=(0,i.useState)(),F=E[0],M=E[1],T=(0,m.F)().onShowUpvoted,I=(0,d.o)(o).openShareComment,D=(0,Oe.A)(Ce.D,!1),z=(0,c.A)(D,1)[0],q=(0,i.useState)(!1),R=q[0],$=q[1],B=function(e,n){var o,r;n&&(j(e.id),!(0,Ce.v7)(t.source)||null!==(o=t.source)&&void 0!==o&&o.currentMember||z||M(e.id),(null===(r=t.source)||void 0===r?void 0:r.type)===ze.Y1.Squad&&a(Re.X2.SquadFirstComment))};return(0,i.useEffect)((function(){r&&C(!0)}),[r]),ct(i.Fragment,null,ct(Pe,{post:t,onUpvotesClick:function(e){return T(t.id,e)}}),ct(le,{onCopyLinkClick:function(){$(!0),null==n||n(t)},post:t,postQueryKey:l,onComment:function(){return k.current.onShowInput(N.$e.PostCommentButton)},origin:o}),ct(lt.K,{post:t}),ct(Ie,{post:t}),R&&ct(it.A,{post:t,className:"mt-6"}),ct("span",{className:"mt-6 flex flex-row items-center"},ct(Xe.o5,{type:Xe.kR.Callout},"Sort:"),ct(y.$n,{className:"ml-1 !px-0",iconPosition:b.bQ.Right,size:b.Mp.Small,icon:ct(at,{secondary:!0,className:f===ce.ww.OldestFirst&&"rotate-180"}),onClick:function(){return v(f===ce.ww.NewestFirst?ce.ww.OldestFirst:ce.ww.NewestFirst)}},f===ce.ww.NewestFirst?"Newest first":"Oldest first")),ct(L,{className:{container:"mt-6 hidden tablet:flex"},post:t,ref:k,onCommented:B}),!w&&ct(Ge,{postId:t.id}),ct(we,{post:t,sortBy:f,origin:o,onShare:function(e){return I(e,t)},onClickUpvote:function(e,t){return T(e,t,"comment")},permissionNotificationCommentId:S,joinNotificationCommentId:F,onCommented:B}),P&&ct(ut,{onSignUp:!g&&function(){return x({trigger:p._f.Author})}}))};var mt=n(82804),pt=n(21216),ft=i.createElement,vt=a()((function(){return n.e(3182).then(n.bind(n,51826))}),{loadableGenerated:{webpack:function(){return[51826]}}}),ht=a()((function(){return n.e(8521).then(n.bind(n,85118))}),{ssr:!1,loading:function(){return ft("div",{className:"-mx-4 h-12 border-b border-border-subtlest-tertiary laptop:hidden"})},loadableGenerated:{webpack:function(){return[85118]}}});function bt(e){var t=e.post,n=e.isFallback,r=e.origin,a=e.children,l=e.className,c=void 0===l?{}:l,u=e.navigationProps,d=e.engagementProps,m=e.shouldOnboardAuthor,p=e.isPostPage,f=(null!=t?t:{}).id,v=d.onCopyPostLink;return f||n?ft(i.Fragment,null,p?ft(ht,{className:s()(c.header,"-mx-4")},ft(mt.l,{post:t,className:"ml-auto",contextMenuId:"post-page-header-actions",onReadArticle:u.onReadArticle})):ft(pt.A,(0,o.A)({},u,{className:c.navigation})),a,ft(dt,{post:t,onCopyLinkClick:v,logOrigin:r,shouldOnboardAuthor:m})):ft(vt,null)}},29164:(e,t,n)=>{n.d(t,{IT:()=>W,AK:()=>Z});var o=n(50122),r=n(7527),a=n(75087),i=n(30395),l=n.n(i),s=n(22155),c=n(36797),u=n.n(c),d=n(55059),m=n(7986),p=n(16714),f=n(22514),v=n(80244),h=n(44481),b=n(43306),y=n(5510),g=n(82804),x=n(97789),w=s.createElement;function k(e){var t=e.onCopyPostLink,n=e.onReadArticle,o=e.post,r=e.className,a=e.onClose,i=e.origin,l=(0,s.useContext)(v.Ay).tokenRefreshed;return w(p.P8,{className:r},w(g.l,{onReadArticle:n,post:o,onClose:a,className:"hidden pt-6 laptop:flex",contextMenuId:"post-widgets-context"}),w(y.WE,{post:o,origin:i}),w(h.A,{post:o}),w(f._,{post:o,origin:i,link:o.commentsPermalink,onCopyPostLink:t}),l&&w(b.A,{currentPost:o}),w(x.j,null))}var N=n(10306),A=n(68392),P=n(30606),C=n(76179),O=n(9008),S=n(12430),j=n(56047),E=n(56761),L=n(29192),F=n(62424),M=n(55551),T=n(71992),I=n(16763),D=n(1414),z=n(47375),q=n(39762),R=n(69366),$=n(84253),B=["children"],K=s.createElement;function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=80,V=u()((function(){return n.e(4332).then(n.bind(n,48354)).then((function(e){return e.PostCodeSnippets}))}),{loadableGenerated:{webpack:function(){return[48354]}}});var W=(0,D.h)((function(e){var t,n,o,i,c=e.post,u=e.className,f=void 0===u?{}:u,h=e.shouldOnboardAuthor,b=e.origin,y=e.position,g=e.inlineActions,x=e.onPreviousPost,w=e.onNextPost,D=e.onClose,U=e.postPosition,Z=e.isFallback,W=e.customNavigation,Q=e.onRemovePost,H=e.backToSquad,G=e.isBannerVisible,X=e.isPostPage,Y=(0,v.Z2)().user,J=(0,A.mu)().subject,ee=(0,C.A)({origin:b,post:c}),te=ee.onCopyPostLink,ne=ee.onReadArticle,oe=(0,L.L)(),re=(0,F.iT)(M.N4.showCodeSnippets),ae=(0,q.Z)(c).title,ie=!!x||!!w,le=(0,d.CX)(c),se=l()("laptop:flex-row laptop:pb-0",null==f?void 0:f.container),ce={postPosition:U,onPreviousPost:x,onNextPost:w,post:c,onReadArticle:ne,onClose:D,inlineActions:g,onRemovePost:Q};(0,s.useEffect)((function(){le&&null!=c&&c.id&&null!=Y&&Y.id&&oe(c.id)}),[le,oe,c.id,null==Y?void 0:Y.id]);var ue=function(e){var t=e.children,n=(0,a.A)(e,B);return K("a",(0,r.A)({href:c.permalink,title:"Go to post",target:"_blank",rel:"noopener"},(0,S.t)(ne),n),t)};return K(P.A,{hasNavigation:ie,className:se,"aria-live":J===A.a0.PostContent?"polite":"off",navigationProps:"fixed"===y?_(_({},ce),{},{isBannerVisible:G,className:null==f?void 0:f.fixedNavigation}):null},K(j.K,{className:l()("relative",null==f?void 0:f.content),"data-testid":"postContainer"},K(O.N,{className:_(_({},f),{},{onboarding:l()(null==f?void 0:f.onboarding,H&&"mb-6"),navigation:{actions:null==f||null===(t=f.navigation)||void 0===t?void 0:t.actions,container:l()("pt-6",null==f||null===(n=f.navigation)||void 0===n?void 0:n.container)}}),isPostPage:X,isFallback:Z,customNavigation:W,shouldOnboardAuthor:h,navigationProps:ce,engagementProps:ee,origin:b,post:c},K("div",{className:"my-6"},K("h1",{className:"break-words font-bold typo-large-title","data-testid":"post-modal-title"},K(ue,null,ae)),c.clickbaitTitleDetected&&K(z.O,{post:c})),le&&K(E.A,{placeholderProps:{post:c,onWatchVideo:ne},videoId:c.videoId,className:"mb-7"}),c.summary&&K(R.u,{post:c}),K($.h,{post:c}),K(m.A,{createdAt:c.createdAt,readTime:c.readTime,isVideoType:le,className:l()("mt-4 !typo-callout",le?"mb-4":"mb-8"),domain:!le&&(null===(o=c.domain)||void 0===o?void 0:o.length)>0&&K(p.mE,null,"From"," ",K(ue,{title:c.domain,className:"hover:underline"},c.domain))}),!le&&K(ue,{className:"mb-10 block cursor-pointer overflow-hidden rounded-16",style:{maxWidth:"25.625rem"}},K(T.o,{imgSrc:c.image,imgAlt:"Post cover image",ratio:"49%",eager:!0,fallbackSrc:I.uC,fetchPriority:"high"})),(null===(i=c.toc)||void 0===i?void 0:i.length)>0&&K(N.A,{post:c,collapsible:!0,className:"mb-4 mt-2 flex laptop:hidden"}),re&&K(V,{className:"mb-6",post:c}))),K(k,{onReadArticle:ne,post:c,className:"pb-8",onClose:D,origin:b,onCopyPostLink:te}))}))},30606:(e,t,n)=>{n.d(t,{A:()=>y});var o=n(22155),r=n(63423),a=n(7527),i=n(75087),l=n(30395),s=n.n(l),c=n(21216),u=["onPreviousPost","onNextPost","postPosition","post","className","isBannerVisible"],d=o.createElement;const m=function(e){var t=e.onPreviousPost,n=e.onNextPost,o=e.postPosition,r=e.post,l=e.className,m=void 0===l?{}:l,p=e.isBannerVisible,f=(0,i.A)(e,u);return d(c.A,(0,a.A)({},f,{inlineActions:!0,isFixedNavigation:!0,post:r,contextMenuId:"fixed-post-navigation-context",className:{container:s()("fixed z-postNavigation ml-0 w-full border border-border-subtlest-tertiary bg-background-subtle px-6 py-4","max-w-full laptop:left-[unset]",p?"top-14":"top-0",null==m?void 0:m.container),actions:null==m?void 0:m.actions},onPreviousPost:t,onNextPost:n,postPosition:o}))};var p=n(27504),f=n(72870),v=o.createElement,h=(0,r.A)("div","flex flex-col w-full pb-6 bg-background-default"),b=(0,r.A)(h,"m-auto w-full laptop:border-x laptop:border-border-subtlest-tertiary");const y=function(e){var t=e.hasNavigation,n=e.className,r=e.children,a=e.navigationProps,i=e.isNavigationOutside,l=!(0,f.G6)(f.bh.MobileL)&&a,s=t?h:b;return v(p.A,{condition:i,wrapper:function(e){return v(o.Fragment,null,l&&v(m,l),e)}},v(s,{className:n},l&&!i&&v(m,l),r))}},82804:(e,t,n)=>{n.d(t,{l:()=>N});var o=n(7527),r=n(75087),a=n(22155),i=n(30395),l=n.n(i),s=n(75240),c=n(55059),u=n(63423),d=n(36599),m=n(83448),p=n(53823),f=n(52045),v=n(90269),h=n(57952),b=n(15837),y=n(72870),g=["onReadArticle","post","onClose","inlineActions","className","notificationClassName","contextMenuId","onRemovePost","isFixedNavigation"],x=a.createElement,w=(0,u.A)("div","flex flex-row items-center"),k=function(e){return e.inlineActions?m.Ak.Tertiary:m.Ak.Primary};function N(e){var t,n=e.onReadArticle,i=e.post,u=e.onClose,N=e.inlineActions,A=e.className,P=(e.notificationClassName,e.contextMenuId),C=e.onRemovePost,O=e.isFixedNavigation,S=(0,r.A)(e,g),j=(0,a.useContext)(f.Ay).openNewTab,E=(0,y.V$)(y.bh.Laptop),L=(0,c.KN)(i),F=(null==i?void 0:i.type)===c.xj.Collection,M=O||E,T=(0,a.useCallback)((function(){var e,t;return x(d.S,{placement:"bottom",content:L,disabled:!N},x(p.$n,{variant:M?k({inlineActions:N}):m.Ak.Float,tag:"a",href:null!==(e=null===(t=i.sharedPost)||void 0===t?void 0:t.permalink)&&void 0!==e?e:i.permalink,target:j?"_blank":"_self",icon:x(s.S,null),onClick:n,"data-testid":"postActionsRead",size:M?m.Mp.Medium:m.Mp.Small},N?null:L))}),[N,M,n,j,i.permalink,null===(t=i.sharedPost)||void 0===t?void 0:t.permalink,L]);return x(w,(0,o.A)({},S,{className:l()("gap-2",A)}),!(0,c.LJ)(i)&&!!n&&x(T,null),F&&x(b.F,{post:i,isCondensed:!0}),x(v.I,{post:i,onClose:u,inlineActions:N,contextMenuId:P,onRemovePost:C,origin:h.$e.ArticleModal,isEnlarged:M}))}},90269:(e,t,n)=>{n.d(t,{I:()=>g});var o=n(89338),r=n(2827),a=n.n(r),i=n(22155),l=n(60471),s=n(67371),c=n(85971),u=n(80244),d=n(55059),m=n(36599),p=n(6920),f=n(27840),v=n(97900),h=n(53823),b=n(83448),y=i.createElement;function g(e){var t,n,r=e.post,g=e.onClose,x=e.inlineActions,w=e.contextMenuId,k=e.onRemovePost,N=e.origin,A=e.isEnlarged,P=(0,i.useContext)(u.Ay).user,C=(0,f.k)().showPrompt,O=(0,v.A)({id:w}),S=O.onMenuClick,j=O.onHide,E=null==P||null===(t=P.roles)||void 0===t?void 0:t.includes(c.YK.Moderator),L=(0,i.useCallback)((0,o.A)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={title:"Ban post ðŸ’©",description:"Are you sure you want to ban this post?",okButton:{title:"Ban",className:"btn-primary-ketchup"}},e.next=3,C(t);case 3:if(!e.sent){e.next=6;break}return e.next=6,(0,d.Ep)(r.id);case 6:case"end":return e.stop()}}),e)}))),[r.id,C]),F=(0,i.useCallback)((0,o.A)(a().mark((function e(){var t,n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===(t=r.flags)||void 0===t?void 0:t.promoteToPublic,o={title:n?"Demote post":"Promote post",description:"Do you want to ".concat(n?"demote":"promote"," this post ").concat(n?"from":"to"," the public?"),okButton:{title:n?"Demote":"Promote"}},e.next=4,C(o);case 4:if(!e.sent){e.next=12;break}if(!n){e.next=10;break}return e.next=8,(0,d.fY)(r.id);case 8:e.next=12;break;case 10:return e.next=12,(0,d.Bc)(r.id);case 12:case"end":return e.stop()}}),e)}))),[null===(n=r.flags)||void 0===n?void 0:n.promoteToPublic,r.id,C]),M=(0,i.useCallback)((0,o.A)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.clickbaitTitleDetected,n={title:t?"Remove clickbait":"Mark as clickbait",description:"Do you want to ".concat(t?"remove":"mark"," this post as clickbait?"),okButton:{title:t?"Remove":"Mark"}},e.next=4,C(n);case 4:if(!e.sent){e.next=7;break}return e.next=7,(0,d.Ns)(r.id);case 7:case"end":return e.stop()}}),e)}))),[r.clickbaitTitleDetected,r.id,C]);return y(i.Fragment,null,y(m.S,{placement:"bottom",content:"Options"},y(h.$n,{className:!x&&"ml-auto",icon:y(l.Z,null),onClick:S,size:A?b.Mp.Medium:b.Mp.Small,variant:A?b.Ak.Tertiary:b.Ak.Float})),g&&y(m.S,{placement:"bottom",content:"Close"},y(h.$n,{variant:b.Ak.Tertiary,icon:y(s.d,null),onClick:function(e){return g(e)}})),y(p.A,{post:r,onRemovePost:k,setShowBanPost:E?function(){return L()}:null,setShowPromotePost:E?function(){return F()}:null,setShowClickbaitPost:E?function(){return M()}:null,contextId:w,origin:N,onHidden:j}))}},21216:(e,t,n)=>{n.d(t,{A:()=>h});var o=n(7527),r=n(75087),a=n(22155),i=n(30395),l=n.n(i),s=n(53823),c=n(83448),u=n(36599),d=n(13879),m=n(82804),p=n(47248),f=["postPosition","onPreviousPost","onNextPost","className","contextMenuId"],v=a.createElement;const h=function(e){var t=e.postPosition,n=e.onPreviousPost,a=e.onNextPost,i=e.className,h=void 0===i?{}:i,b=e.contextMenuId,y=void 0===b?"post-navigation-context":b,g=(0,r.A)(e,f);return v("div",{className:l()("flex h-10 flex-row items-center gap-2",null==h?void 0:h.container),role:"navigation"},n&&v(u.S,{content:"Previous"},v(s.$n,{className:"-rotate-90",icon:v(d.HK,null),variant:c.Ak.Tertiary,onClick:n,disabled:[p.M.First,p.M.Only].includes(t)})),a&&v(u.S,{content:"Next"},v(s.$n,{className:"rotate-90",icon:v(d.HK,null),variant:c.Ak.Tertiary,onClick:a,disabled:[p.M.Last,p.M.Only].includes(t)})),v(m.l,(0,o.A)({},g,{className:l()("flex",null==h?void 0:h.actions),notificationClassName:"ml-4",contextMenuId:y})))}},15837:(e,t,n)=>{n.d(t,{F:()=>h});var o=n(22155),r=n(79227),a=n(31121),i=n(85548),l=n(35298),s=n(82973),c=n(53823),u=n(83448),d=n(28926),m=n(80244),p=o.createElement,f=function(e){var t=e.isSubscribed,n=e.isFetching,o=e.onClick;return p(c.$n,{variant:t?u.Ak.Secondary:u.Ak.Primary,icon:p(t?l.L:s.XF,null),disabled:n,onClick:o},t?"Unsubscribe":"Subscribe")},v=function(e){var t=e.isSubscribed,n=e.isFetching,o=e.onClick;return p(c.$n,{variant:u.Ak.Float,size:u.Mp.Small,icon:p(t?l.L:s.XF,null),disabled:n,onClick:o},t?"Unsubscribe":"Subscribe")},h=function(e){var t=e.post,n=e.isCondensed,o=(0,m.Z2)(),l=o.isLoggedIn,s=o.showLogin,c=(0,r.G)({params:null!=t&&t.id?[{notificationType:a._n.CollectionUpdated,referenceId:t.id}]:void 0}),u=c.preferences,h=c.subscribeNotification,b=c.clearNotificationPreference,y=c.isFetching,g=!(null==u||!u.some((function(e){return(0,r.Q)(e,a._n.CollectionUpdated,null==t?void 0:t.id,[i.nb.Subscribed])})));return p(n?v:f,{isSubscribed:g,isFetching:y,onClick:function(){if(l){var e={type:a._n.CollectionUpdated,referenceId:t.id};g?b(e):h(e)}else s({trigger:d._f.CollectionSubscribe})}})}},56047:(e,t,n)=>{n.d(t,{K:()=>o});var o=(0,n(63423).A)("main","flex flex-col flex-1 px-4 laptop:px-8 laptop:border-r laptop:border-border-subtlest-tertiary overflow-hidden")},84253:(e,t,n)=>{n.d(t,{h:()=>P});var o=n(7527),r=n(75087),a=n(22155),i=n(30395),l=n.n(i),s=n(24003),c=n(86598),u=n(57952),d=n(80244),m=n(6710),p=n(67380),f=n(70591),v=n(95974),h=n(53823),b=n(83448),y=n(59904),g=n(97838),x=n(36599),w=["children","className"],k=a.createElement,N=function(e){var t=e.children,n=e.className,a=(0,r.A)(e,w);return k(p.o5,(0,o.A)({className:l()("cursor-pointer rounded-10 border-border-subtlest-tertiary transition-colors",n),color:p.X8.Tertiary,tag:p.UL.Span,type:p.kR.Caption1},a),t)},A=function(e){var t=e.isFollowed,n=e.onFollow,o=e.tag;return t?k(v.A,{href:(0,f.ad)(o),passHref:!0,prefetch:!1},k(N,{className:"border px-2 py-1 hover:bg-border-subtlest-tertiary",role:"listitem",tag:p.UL.Link,title:"Check all #".concat(o," posts")},"#",o)):k(N,{className:"flex items-center bg-surface-float",role:"listitem"},k(v.A,{href:(0,f.ad)(o),passHref:!0},k("a",{className:"inline-block px-2 py-1",title:"Check all #".concat(o," posts")},"#".concat(o))),k("span",{className:"h-3 translate-y-px rounded-2 border border-border-subtlest-tertiary",role:"separator"}),k(x.S,{content:"Follow #".concat(o)},k(h.$n,{icon:k(y.c,{"aria-hidden":!0,size:g.lK.XSmall}),onClick:function(){return n(o)},size:b.Mp.XSmall})))},P=function(e){var t=function(e){var t=e.post,n=(0,d.Z2)().isLoggedIn,o=(0,m.b)(),r=o.feedId,i=o.isCustomFeed,l=(0,s.Ay)({feedId:i?r:void 0}).feedSettings,p=!(null!=t&&t.permalink),f=(0,a.useMemo)((function(){var e;if(!n||p)return{all:null==t?void 0:t.tags,followed:[],notFollowed:null==t?void 0:t.tags};var o=null!==(e=null==t?void 0:t.tags)&&void 0!==e?e:[],r=new Set((null==l?void 0:l.includeTags)||[]);return o.reduce((function(e,t){return e[r.has(t)?"followed":"notFollowed"].push(t),e}),{all:o,followed:[],notFollowed:[]})}),[null==l?void 0:l.includeTags,n,p,null==t?void 0:t.tags]),v=(0,c.A)({origin:u.$e.PostTags,postId:null==t?void 0:t.id,feedId:r}).onFollowTags;return{onFollowTag:(0,a.useCallback)((function(e){return v({tags:[e],requireLogin:!0})}),[v]),tags:f}}({post:e.post}),n=t.onFollowTag,o=t.tags;return o.all.length?k("ul",{"aria-label":"Post tags",className:"flex flex-wrap items-center gap-2"},o.followed.map((function(e){return k(A,{key:"followed-".concat(e),tag:e,isFollowed:!0})})),o.notFollowed.map((function(e){return k(A,{isFollowed:!1,key:"notFollowed-".concat(e),onFollow:n,tag:e})}))):null}},1414:(e,t,n)=>{n.d(t,{h:()=>l});var o=n(7527),r=n(22155),a=n(34808),i=r.createElement,l=function(e){var t=function(t){var n=t.post,r=(0,a.Ay)({id:null==n?void 0:n.id}).post,l=null!=r?r:n;return null!=l&&l.id?(null!=l&&l.feedMeta||null==n||!n.feedMeta||(l.feedMeta=n.feedMeta),i(e,(0,o.A)({},t,{post:l}))):null};return t.displayName="WithPostById",e.getLayout&&(t.getLayout=e.getLayout),e.layoutProps&&(t.layoutProps=e.layoutProps),t}},34086:(e,t,n)=>{n.d(t,{U:()=>d});var o=n(98093),r=n(22155),a=n(53823),i=n(83448),l=n(43660),s=n(98235),c=n(61663),u=r.createElement;function d(e){var t,n,r,d,m=e.link,p=e.text,f=void 0===p?{}:p,v=e.onCopy,h=e.className,b=e.logProps,y=(0,s.L)((function(){return m})),g=(0,o.A)(y,2),x=g[0],w=g[1],k=(0,c.DX)().logEvent;return u(l.A,{className:h,name:"inviteURL",inputId:"inviteURL",label:"Your unique invite URL",type:"url",autoComplete:"off",value:m,fieldType:"tertiary",actionButton:u(a.$n,{size:i.Mp.Small,variant:i.Ak.Primary,onClick:function(){w(),k(b),v&&v()}},(r=null!==(t=null==f?void 0:f.initial)&&void 0!==t?t:"Copy link",d=null!==(n=null==f?void 0:f.copied)&&void 0!==n?n:"Copied",x?d:r)),readOnly:!0})}},56761:(e,t,n)=>{n.d(t,{A:()=>I});var o=n(7527),r=n(75087),a=n(22155),i=n(80244),l=n(47510),s=n(30395),c=n.n(s),u=n(41536),d=n(67380),m=n(53823),p=n(83448),f=n(26182),v=n(63423),h=n(76800),b=a.createElement,y=(0,v.A)("div","relative mb-7 w-full overflow-hidden rounded-16 pt-[56.25%]"),g=(0,v.A)("div","absolute inset-0 z-1 flex flex-col bg-surface-float p-2 tablet:p-6");function x(e){var t=e.className,n=e.onWatchVideo,o=e.onAcceptCookies,r=e.post,a=r.title,i=r.image,l=r.source,s=r.permalink;return b(y,{className:c()(t,"relative")},b("img",{src:i,alt:a,className:"absolute inset-0 z-0 h-full w-full object-cover opacity-[0.08]"}),b(g,null,b("span",{className:"hidden flex-row items-center gap-3 tablet:flex"},b(u._V,{src:l.image,alt:l.name,className:"h-10 w-10 rounded-full"}),b(d.o5,{type:d.kR.Callout,bold:!0},l.name)),b("div",{className:"flex flex-1 flex-col items-center justify-center gap-6"},b(d.o5,{type:d.kR.Callout,className:"text-center"},"To play this video here on daily.dev, youâ€™ll need to enable marketing cookies, or you can choose to watch it on YouTube."),b(m.$n,{variant:p.Ak.Primary,icon:b(f.u,null),onClick:function(){return o()}},"Watch and accept cookies")),b(m.$n,{variant:p.Ak.Tertiary,className:"mx-auto w-fit",size:p.Mp.Small,onClick:n,tag:"a",href:s,target:"_blank",rel:h.O8},"Watch on YouTube")))}var w=(0,v.A)("div","relative w-full overflow-hidden rounded-16 pt-[56.25%]"),k=(0,v.A)("div","absolute inset-0 z-1 flex flex-col bg-surface-float p-6"),N=n(50122),A=n(69918),P=n(14243),C=n(85278),O=n(68390);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,N.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E={path:"/",sameSite:"lax",domain:"daily.dev"},L=function(e){(0,C.Aj)(e,j({},E))},F=function(e){var t=(0,O.oX)(),n=(0,a.useMemo)((function(){return["cookie",e]}),[e]),o=(0,A.jE)(),r=(0,P.I)(j({queryKey:n,initialData:function(){return t||!!function(e){var t;return null===globalThis||void 0===globalThis||null===(t=globalThis.document)||void 0===t?void 0:t.cookie.split("; ").find((function(t){return t.startsWith(e)}))}(e)}},O.e_)),i=r.data,l=(0,a.useCallback)((function(e){!function(e){null===globalThis||void 0===globalThis||globalThis.localStorage.removeItem(e),(0,C.OR)([e])[e]||(0,C.TV)(e,!0,j(j({},E),{},{maxAge:31536e4}))}(e),o.setQueryData(["cookie",e],!0)}),[o]);return{saveCookies:(0,a.useCallback)((function(n,o){t?console.log("we do not store cookies in the extension"):(l(e),n&&n.forEach(l),o&&o.forEach(L))}),[e,l,t]),cookieExists:i}},M=["videoId","className","placeholderProps"],T=a.createElement;const I=function(e){var t=e.videoId,n=e.className,a=e.placeholderProps,s=(0,r.A)(e,M),c=a.post.title,u=(0,i.Z2)(),d=u.isAuthReady,m=u.isGdprCovered,p=F(l.d4.Marketing),f=p.cookieExists,v=p.saveCookies;return d?m&&!f?T(x,(0,o.A)({},a,{onAcceptCookies:v})):T(w,{className:n},T("iframe",(0,o.A)({},s,{title:c,src:"https://www.youtube-nocookie.com/embed/".concat(t),allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share",allowFullScreen:!0,className:"absolute inset-0 aspect-video w-full border-0"}))):T(w,{className:n},T(k,null))}},43306:(e,t,n)=>{n.d(t,{A:()=>de});var o,r,a=n(7527),i=n(92203),l=n(89338),s=n(50122),c=n(2827),u=n.n(c),d=n(22155),m=n(30395),p=n.n(m),f=n(14243),v=n(80244),h=n(91591),b=n(2972),y=n(73481),g=(0,b.gql)(o||(o=(0,h.A)(["\n  fragment FurtherReading on Post {\n    id\n    title\n    permalink\n    commentsPermalink\n    bookmarked @include(if: $loggedIn)\n    image\n    readTime\n    numComments\n    numUpvotes\n    numAwards\n    source {\n      ...SourceShortInfo\n    }\n    scout {\n      ...UserAuthor\n    }\n    author {\n      ...UserAuthor\n    }\n  }\n  ","\n  ","\n"])),y.db,y.p0),x=(0,b.gql)(r||(r=(0,h.A)(["\n  query SimilarPosts(\n    $post: ID!\n    $loggedIn: Boolean! = false\n    $trendingFirst: Int\n    $similarFirst: Int\n    $discussedFirst: Int\n    $withDiscussedPosts: Boolean! = false\n    $tags: [String]!\n  ) {\n    trendingPosts: randomTrendingPosts(post: $post, first: $trendingFirst) {\n      ...FurtherReading\n      bookmarked @include(if: $loggedIn)\n      trending\n      tags\n    }\n    similarPosts: randomSimilarPostsByTags(\n      tags: $tags\n      post: $post\n      first: $similarFirst\n    ) {\n      ...FurtherReading\n      bookmarked @include(if: $loggedIn)\n      tags\n    }\n    discussedPosts: randomDiscussedPosts(post: $post, first: $discussedFirst)\n      @include(if: $withDiscussedPosts) {\n      ...FurtherReading\n    }\n  }\n  ","\n"])),g),w=n(55059),k=n(95974),N=n(13879),A=n(96559),P=n(71992),C=n(21861),O=n(9062),S=n(63423),j=n(11924),E=n(61663),L=n(16714),F=n(12430),M=n(53823),T=n(83448),I=n(63952),D=n(81602),z=d.createElement;function q(e){var t=e.upvotes,n=e.comments,o=e.className;return z("p",{className:p()("truncate typo-footnote",o),"data-testid":"post-engagements-count"},t?"".concat((0,D.Kt)(t)," Upvotes"):"",t&&n?z(d.Fragment,null," ",I.zO," "):"",n?"".concat((0,D.Kt)(n)," Comments"):"")}var R=d.createElement,$=R("div",{className:"h-px bg-border-subtlest-tertiary"}),B="w-7 h-7 rounded-full mt-1",K="flex flex-col ml-3 mr-2 flex-1",U=function(e){var t=e.post,n=e.onLinkClick;return R("article",{className:p()("group relative flex items-start py-2 pl-4 pr-2 hover:bg-surface-hover",A.A.card)},R(C.hB,(0,a.A)({href:t.commentsPermalink,title:t.title},(0,F.t)((function(){return n(t)})))),R(P.o,{imgSrc:t.source.image,imgAlt:t.source.name,className:B}),R("div",{className:K},R("h5",{className:p()("multi-truncate mb-0.5 text-ellipsis break-words text-text-primary typo-callout",A.A.title)},t.title),t.trending?R("div",{className:"flex items-center text-text-tertiary typo-footnote"},R(L.uB,null),R("div",{className:"ml-2"},t.trending," devs read it last hour")):R(q,{upvotes:t.numUpvotes,comments:t.numComments,className:"text-text-tertiary"})))},_=(0,S.A)(O._,"h-3 rounded-12 my-0.5");function Z(e){var t=e.posts,n=e.isLoading,o=e.className,r=e.title,a=void 0===r?"You might like":r,i=e.moreButtonProps,s=e.ListItem,c=void 0===s?U:s,m=(0,d.useContext)(E.Ay).logEvent,f=(null==i?void 0:i.href)||"https://app.daily.dev/",v=(null==i?void 0:i.text)||"View all",h=function(){var e=(0,l.A)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m((0,j.P5)("click",t,{extra:{origin:"recommendation"}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return R("section",{className:p()("flex flex-col rounded-16 border border-border-subtlest-tertiary",o)},R("h4",{className:"my-0.5 px-4 py-3 text-text-tertiary typo-body"},a),$,n?R(d.Fragment,null,R(c.Placeholder,null),R(c.Placeholder,null),R(c.Placeholder,null)):R(d.Fragment,null,t.map((function(e){return R(c,{key:e.id,post:e,onLinkClick:function(){return h(e)}})}))),$,R(k.A,{href:f,passHref:!0},R(M.$n,{variant:T.Ak.Tertiary,className:"my-2 ml-2 self-start",size:T.Mp.Small,tag:"a",icon:R(N.HK,{className:"rotate-90"}),iconPosition:T.bQ.Right},v)))}U.Placeholder=function(){return R("article",{"aria-busy":!0,className:"relative flex items-start py-2 pl-4 pr-2"},R(O._,{className:B}),R("div",{className:K},R(_,{style:{width:"80%"}}),R(_,{style:{width:"80%"}}),R(_,{style:{width:"40%"}})))};var V=n(5196),W=d.createElement,Q=W("div",{className:"h-px bg-border-subtlest-tertiary"}),H=function(e){var t=e.post,n=e.onLinkClick;return W("article",{className:p()("group relative flex flex-col items-start px-4 py-3 hover:bg-surface-hover",A.A.card)},W(k.A,{href:t.commentsPermalink,prefetch:!1,passHref:!0},W(C.hB,(0,a.A)({title:t.title},(0,F.t)((function(){return n(t)}))))),W("h5",{className:p()("multi-truncate mb-2 text-text-primary typo-callout",A.A.title)},t.title),W("div",{className:"flex items-center text-text-tertiary typo-footnote"},W("div",null,t.numComments," Comments")))},G=(0,S.A)(O._,"h-3 rounded-12 my-0.5"),X=function(){return W("article",{"aria-busy":!0,className:"relative flex flex-col items-start px-4 py-3"},W(G,{style:{width:"80%"}}),W(G,{style:{width:"80%"}}),W(G,{style:{width:"40%"}}))},Y=(0,S.A)(V.uM,"flex flex-col");function J(e){var t,n,o=e.posts,r=e.isLoading,i=e.className,l=(0,d.useContext)(E.Ay).logEvent,s=function(e){l((0,j.P5)("click",e,{extra:{origin:"best discussions"}}))};return W(Y,{className:i},W("h4",{className:"my-0.5 px-4 py-3 text-text-tertiary typo-body"},"Best discussions"),Q,r?W(d.Fragment,null,W(X,null),W(X,null),W(X,null)):W(d.Fragment,null,null==o?void 0:o.slice(1).map((function(e){return W(H,{key:e.id,post:e,onLinkClick:s})}))),Q,W(k.A,{href:null!==(t=null==o||null===(n=o[0])||void 0===n?void 0:n.commentsPermalink)&&void 0!==t?t:"/",prefetch:!1,passHref:!0},W(M.$n,(0,a.A)({variant:T.Ak.Tertiary,className:"my-2 ml-2 self-start",size:T.Mp.Small,tag:"a",icon:W(N.HK,{className:"rotate-90"}),iconPosition:T.bQ.Right},(0,F.t)((function(){}))),"I'm feeling lucky")))}var ee=n(10306),te=n(56638),ne=n(48389),oe=n(23879),re=n(38638),ae=d.createElement,ie=function(e){var t,n=e.post,o=e.onLinkClick;return ae("article",{className:p()("group relative flex items-start px-4 py-2 hover:bg-surface-hover",A.A.card)},ae(C.hB,(0,a.A)({href:n.commentsPermalink,title:n.title},(0,F.t)((function(){return o(n)})))),ae("div",{className:"flex w-full flex-col"},(null==n?void 0:n.author)&&ae(oe.A,{className:{name:"text-text-primary typo-callout",handle:"text-text-quaternary typo-callout",details:"flex-1 pr-8"},author:n.author,size:re.Ov.Large,date:n.createdAt}),ae("p",{className:"mr-6 mt-1 line-clamp-3 text-text-primary typo-callout"},null!==(t=n.title)&&void 0!==t?t:n.sharedPost.title)))};ie.Placeholder=function(){return ae("article",{"aria-busy":!0,className:"relative flex flex-col px-4 py-2"},ae("div",{className:"mb-2 flex flex-1 flex-row items-center"},ae(O._,{className:"mt-1 h-10 w-10 rounded-14"}),ae("div",{className:"ml-3 mr-2 flex flex-1 flex-col"},ae(V.xN,{style:{width:"40%"}}),ae(V.xN,{style:{width:"40%"}}))),ae(V.xN,{style:{width:"80%"}}),ae(V.xN,{style:{width:"80%"}}))};var le=n(68390),se=n(36899),ce=d.createElement;function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function de(e){var t,n,o,r=e.currentPost,c=e.className,m=(0,ne.v7)(r.source),h=r.id,b=r.tags,y=["furtherReading",h],g=(0,d.useContext)(v.Ay),k=g.user,N=g.isLoggedIn,A=(0,f.I)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){(0,s.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({queryKey:y,queryFn:(o=(0,l.A)(u().mark((function e(){var t,n,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.source,!m){e.next=7;break}return e.next=4,se.e.request(te._l,{first:3,loggedIn:N,source:t.id,ranking:"TIME",supportedTypes:[w.xj.Article,w.xj.Share,w.xj.Freeform]});case 4:return o=e.sent,a=(null==o||null===(n=o.page)||void 0===n||null===(n=n.edges)||void 0===n||null===(n=n.map((function(e){return e.node})))||void 0===n?void 0:n.filter((function(e){return e.id!==r.id})))||[],e.abrupt("return",{trendingPosts:[],similarPosts:a,discussedPosts:[]});case 7:return e.abrupt("return",se.e.request(x,{loggedIn:!!k,post:h,trendingFirst:1,similarFirst:3,discussedFirst:4,withDiscussedPosts:!0,tags:b}));case 8:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},le.e_)),P=A.data,C=A.isLoading;if(!(null!=P&&P.similarPosts||C))return ce(d.Fragment,null);var O=null!=P&&P.similarPosts?[].concat((0,i.A)(P.trendingPosts),(0,i.A)(P.similarPosts.slice(0,Math.min(P.similarPosts.length,3-P.trendingPosts.length)))):[],S=(null===(t=r.toc)||void 0===t?void 0:t.length)>0,j={title:"More posts from ".concat(r.source.name),moreButtonProps:{href:r.source.permalink,text:"Show more"},ListItem:ie};return ce("div",{className:p()(c,"flex flex-col gap-6")},S&&ce(ee.A,{post:r,className:"hidden laptop:flex"}),(C||(null==O?void 0:O.length)>0)&&ce(Z,(0,a.A)({posts:O,isLoading:C},m&&j)),(C||(null==P||null===(n=P.discussedPosts)||void 0===n?void 0:n.length)>0)&&ce(J,{posts:null==P?void 0:P.discussedPosts,isLoading:C}))}},10306:(e,t,n)=>{n.d(t,{A:()=>y});var o=n(89338),r=n(2827),a=n.n(r),i=n(22155),l=n(30395),s=n.n(l),c=n(92575),u=n(16714),d=n(61663),m=n(11924);const p={details:"VcLCIuDU9WFPxvzmyOldTA=="};var f=n(5196),v=i.createElement,h=v("div",{className:"mb-3 h-px bg-border-subtlest-tertiary"}),b=function(e,t){return t.id?"".concat(e.permalink,"?a=").concat(t.id):e.permalink};function y(e){var t=e.post,n=e.className,r=e.collapsible,l=(0,i.useContext)(d.Ay).logEvent,y=function(){var e=(0,o.A)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l((0,m.P5)("click",t,{extra:{origin:"toc"}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=v(i.Fragment,null,t.toc.map((function(e){return v("a",{key:e.text,href:b(t,e),target:"_blank",rel:"noopener",title:e.text,onClick:y,className:"flex-1 truncate px-4 py-2 typo-callout hover:bg-surface-hover"},e.text)}))),x="flex items-center py-3 px-4 typo-body text-text-tertiary border border-border-subtlest-quaternary";return r?v("details",{className:s()("select-none flex-col overflow-hidden rounded-16",p.details,n)},v(u.BD,{className:"hover:bg-surface-hover"},v("div",{className:x},v(c.D,{className:"mr-2 text-2xl"}),"Table of contents",v(u.yy,null))),h,g):v(f.uM,{className:s()("flex-col overflow-hidden rounded-16 border border-border-subtlest-quaternary pb-3",n)},v("h4",{className:x},v(c.D,{className:"mr-2 text-2xl"}),"Table of contents"),h,g)}},29192:(e,t,n)=>{n.d(t,{L:()=>m});var o=n(89338),r=n(2827),a=n.n(r),i=n(69918),l=n(5947),s=n(55059),c=n(30530),u=n(80244),d=n(87430),m=function(){var e,t=(0,i.jE)(),n=(0,u.Z2)().user,r=(0,c.$h)(c.jZ.UserStreak,n),m=(0,c.$h)(c.jZ.ReadingStreak30Days,n),p=(0,l.n)({mutationFn:s.Ki,onSuccess:(e=(0,o.A)(a().mark((function e(){var o,i,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.getQueryData(r),i=!(null!=o&&o.lastViewAt),l=!(0,d.lt)(new Date(null==o?void 0:o.lastViewAt),new Date,n.timezone),!i&&!l){e.next=8;break}return e.next=6,t.refetchQueries({queryKey:r});case 6:return e.next=8,t.invalidateQueries({queryKey:m});case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});return p.mutateAsync}},47510:(e,t,n)=>{n.d(t,{d4:()=>a,dh:()=>l,dv:()=>i});var o,r=n(50122),a=(n(22155),function(e){return e.Necessary="ilikecookies",e.Marketing="ilikecookies_marketing",e}({})),i=[a.Marketing],l=(o={},(0,r.A)(o,a.Necessary,{title:"Strictly necessary cookies",description:"These cookies are used for activities that are strictly necessary to operate or deliver the service you requested from us and, therefore, do not require you to consent.",isAlwaysOn:!0}),(0,r.A)(o,a.Marketing,{title:"Marketing cookies",description:"Marketing cookies are used to deliver content and advertisements that are more relevant to you and your interests. These cookies track your online activity across websites and devices to create a profile of your preferences, enabling personalized experience."}),o)},5106:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(22155),r=n(29164);var a=n(99793).r7;var i=n(52819);const l=function(e){var t,n=e.isDisplayed,l=e.offset,s=void 0===l?0:l;(0,o.useEffect)((function(){var e,t;window.matchMedia&&(window.matchMedia(a.replace("@media ","")).matches||(window.scroll(0,0),null===(e=document.querySelector('[role="dialog"]'))||void 0===e||null===(t=e.scroll)||void 0===t||t.call(e,0,0)))}),[]),t=n,(0,o.useEffect)((function(){var e=document.querySelector("#__next");if(e)return t?e.classList.add("hide-on-modal"):e.classList.remove("hide-on-modal"),function(){e.classList.remove("hide-on-modal")}}),[t]);var c=(0,o.useState)("relative"),u=c[0],d=c[1],m=(0,o.useState)(),p=m[0],f=m[1];(0,i.F)((0,o.useCallback)((function(){return p}),[p]),{onOverOffset:function(){return"fixed"!==u&&d("fixed")},onUnderOffset:function(){return"relative"!==u&&d("relative")},offset:r.AK+s});var v=(0,o.useCallback)((function(){var e,t=document.getElementById("post-modal");if(t){var n=t.parentElement;f(n),null==n||null===(e=n.scrollTo)||void 0===e||e.call(n,0,0),d("relative")}}),[]);return{position:u,onLoad:v}}}}]);