"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[1992],{95412:(e,a,t)=>{t.d(a,{S:()=>u});var n=t(7527),r=t(75087),s=t(22155),l=t(30395),c=t.n(l),o=t(36780),i=t(52788),d=["name","checked","children","className","checkmarkClassName","onToggleCallback","id","disabled","defaultChecked"],m=s.createElement,u=(0,s.forwardRef)((function(e,a){var t=e.name,l=e.checked,u=e.children,b=e.className,h=e.checkmarkClassName,k=e.onToggleCallback,p=e.id,f=void 0===p?"":p,y=e.disabled,g=e.defaultChecked,N=(0,r.A)(e,d),v=(0,s.useState)(null!=l?l:g),x=v[0],w=v[1],C=(0,s.useId)(),S=f.concat(C);(0,s.useEffect)((function(){w(null!=l?l:g)}),[l,g]);return m("label",{className:c()("relative z-1 inline-flex select-none items-center p-1 pr-3 text-text-tertiary typo-footnote",!y&&"cursor-pointer",i.A.label,b,{checked:x,disabled:y}),style:{transition:"color 0.1s linear"},htmlFor:S},m("input",(0,n.A)({"aria-labelledby":"label-span-".concat(C),checked:l,defaultChecked:g,className:"absolute h-0 w-0 opacity-0","data-testid":"checkbox-input",disabled:y,id:S,name:t,onChange:function(e){w(e.target.checked),null==k||k(e.target.checked)},ref:a,type:"checkbox"},N)),m("div",{"aria-checked":l,"aria-labelledby":"label-".concat(C),className:c()("relative z-1 mr-3 flex h-5 w-5 items-center justify-center rounded-6 border-2 border-border-subtlest-primary",i.A.checkmark,h),role:"checkbox"},m(o.w,{"aria-hidden":!0,className:"icon h-full w-full text-text-primary opacity-0",role:"presentation",style:{transition:"opacity 0.1s linear"}})),m("span",{className:"min-w-0 flex-1",id:"label-span-".concat(C)},u))}))},68334:(e,a,t)=>{t.d(a,{d:()=>k});var n=t(7527),r=t(75087),s=t(22155),l=t(30395),c=t.n(l);const o="_5r2X27zKbL3K-0KuztabLA==",i="_9VJTarzDvJAPMOKQbzHeEQ==",d="+hRUmPa5hVn8ncwI9jw3WQ==",m="D5NR++a7+cgnxCM1YywMSg==";var u=["className","labelClassName","inputId","name","checked","children","onToggle","compact","defaultTypo","disabled"],b=s.createElement;function h(e,a){var t=e.className,s=e.labelClassName,l=e.inputId,h=e.name,k=e.checked,p=e.children,f=e.onToggle,y=e.compact,g=void 0===y||y,N=e.defaultTypo,v=void 0===N||N,x=e.disabled,w=(0,r.A)(e,u);return b("label",{className:c()(t,"group relative flex items-center",x?"pointer-events-none cursor-not-allowed opacity-32":"cursor-pointer",d),htmlFor:l,ref:a},b("input",(0,n.A)({},w,{disabled:x,id:l,name:h,type:"checkbox",checked:k,onChange:f,className:"absolute h-0 w-0 opacity-0"})),b("span",{className:c()("relative block",g?"h-4 w-8":"h-5 w-10")},b("span",{className:c()("absolute bottom-0 left-0 top-0 my-auto w-full bg-theme-overlay-quaternary",g?"h-2.5 rounded-3":"h-3 rounded-4",o)}),b("span",{className:c()("absolute left-0 top-0 bg-text-tertiary",g?"h-4 w-4 rounded-3":"h-5 w-5 rounded-6",i)})),p&&b("span",{className:c()("ml-3 font-bold text-text-tertiary",v&&"typo-footnote",m,s)},p))}var k=s.forwardRef(h)},56508:(e,a,t)=>{t.r(a),t.d(a,{default:()=>D});var n=t(7527),r=t(75087),s=t(22155),l=t(30395),c=t.n(l),o=t(69918),i=t(94198),d=t(63423),m=t(95412),u=t(74689),b=t(16763),h=t(61663),k=t(57952),p=t(30530),f=t(80244),y=t(9495),g=t(71623),N=t(68334),v=t(2564),x=t(42104),w=t(10665),C=s.createElement;const S=function(e){var a=e.className,t=(0,f.Z2)().user,n=(0,h.DX)().logEvent,r=(0,w.IR)().onEnablePush,s=(0,v.o)(),l=s.getPersonalizedDigest,c=s.subscribePersonalizedDigest,o=s.unsubscribePersonalizedDigest,i=l(x.Cs.StreakReminder);return C(N.d,{checked:!!i,"data-testid":"streak-reminder-switch",inputId:"streak-reminder-switch",name:"streak-reminder",defaultTypo:!0,className:a,labelClassName:"font-bold",compact:!1,onToggle:function(){var e=!i;n({event_name:e?k.VB.EnableNotification:k.VB.DisableNotification,extra:JSON.stringify({channel:k.rl.Web,category:k.aF.StreakReminder})}),e?(n({event_name:k.VB.ScheduleStreakReminder,extra:JSON.stringify({hour:20,timezone:null==t?void 0:t.timezone})}),c({hour:20,sendType:v.N.Workdays,type:x.Cs.StreakReminder}),r(k.vH.ReadingReminder)):o({type:x.Cs.StreakReminder})}},"Remind me to keep my streak")};var R=["currentStreak","maxStreak","onRequestClose"],A=s.createElement,E=(0,d.A)("p","text-center text-text-tertiary");function D(e){var a=e.currentStreak,t=e.maxStreak,l=e.onRequestClose,d=(0,r.A)(e,R),N=(0,o.jE)(),v=(0,f.Z2)().user,x=(0,h.DX)().logEvent,w=(0,y.d)(),C=w.completeAction,D=(0,w.checkHasCompleted)(g.X2.DisableReadingStreakMilestone),z=a>=t,T=1===a?"day":"days",_=(0,s.useRef)(!1);(0,s.useEffect)((function(){_.current||(N.invalidateQueries({queryKey:(0,p.$h)(p.jZ.UserStreak,v)}),x({event_name:k.VB.Impression,target_type:k.yK.StreaksMilestone,target_id:a}),_.current=!0)}),[a,N,x,v]);return A(i.aF,(0,n.A)({},d,{kind:i.aF.Kind.FlexibleCenter,size:i.aF.Size.XSmall,onRequestClose:l,isDrawerOnMobile:!0}),A(i.aF.Body,{className:"items-center overflow-hidden !pt-0"},A("div",{className:"relative flex h-14 w-full items-center justify-center tablet:justify-start"},A(S,null),A(u.O,{onClick:l,className:"!-right-4 top-2"})),A("span",{className:"relative flex flex-col items-center justify-center"},A("img",{src:z?b.WE:b.lx,alt:z?"A splash design for background":"A large fire icon",className:c()("h-[10rem] text-accent-bacon-default",z?"ml-2 w-[15rem]":"w-[10rem] ")}),A("strong",{className:"absolute typo-tera"},a),z&&A("span",{className:"absolute mt-44 typo-tera"},"🏆")),A("strong",{className:c()("typo-title1",z?"mt-20":"mt-10")},z?"New streak record!":"".concat(a," ").concat(T," streak")),A(E,{className:c()("typo-body",z?"mt-3":"mt-5")},z?"Epic win! You are in a league of your own":"New milestone reached! You are unstoppable."),A(m.S,{name:"show_streaks",className:"mt-10",checked:D,onToggleCallback:function(){D||(x({event_name:k.VB.DismissStreaksMilestone}),C(g.X2.DisableReadingStreakMilestone))}},"Never show this again")))}},52788:(e,a,t)=>{t.d(a,{A:()=>n});const n={checkmark:"Ur6sCRLeLJ0xiAl0Ry8kcA==",label:"_0ta8J6BOiKQx6kRDDsqEHg=="}}}]);