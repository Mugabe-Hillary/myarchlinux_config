"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[354],{36691:(e,t,n)=>{n.r(t),n.d(t,{PlusIOS:()=>j});var r=n(22155),o=n(36797),i=n.n(o),l=n(9487),u=n(30395),a=n.n(u),s=n(20573),c=n(68390),p=n(54883),d=n(63815),f=n(68392),b=n(92315),h=n(72046),v=n(36899),g=n(19133),m=n(73855),P=n(78710),y=n(84631),O=n(65323),w=n(53823),C=n(83448),x=n(57952),k=r.createElement,D=i()((function(){return n.e(9820).then(n.bind(n,9820)).then((function(e){return e.PlusTrustRefund}))}),{loadableGenerated:{webpack:function(){return[9820]}}}),T=i()((function(){return n.e(5256).then(n.bind(n,95256)).then((function(e){return e.PlusFAQ}))}),{loadableGenerated:{webpack:function(){return[95256]}}}),j=function(e){var t=e.shouldShowPlusHeader,n=e.showModalSection,o=(0,l.useRouter)(),i=(0,f.mu)().displayToast,u=(0,r.useState)(null),j=u[0],S=u[1],A=(0,s.P5)(),E=A.productOptions,F=A.openCheckout,I=A.isPlusAvailable,L=(0,b.L)(),N=L.isPlus,H=L.logSubscriptionEvent,B=(0,r.useState)(!1),M=B[0],G=B[1],K=(0,r.useState)(!1),R=K[0],U=K[1],W=(0,h.o)().getMarketingCta,$=(0,r.useMemo)((function(){return n?W(O.WA.Plus).flags:{}}),[W,n]),Q=$.title,V=$.description,X=$.ctaText,Z=(0,r.useMemo)((function(){return(0,d.B6)()&&!!j&&!N&&I}),[N,I,j]),_=(0,r.useCallback)((function(e){var t=e.priceId;S(t)}),[]),q=(0,r.useCallback)((function(){U(!0),H({event_name:x.VB.InitiateCheckout}),F({priceId:j})}),[H,F,j]);return(0,r.useEffect)((function(){return(0,c.HD)("iap-error",(function(e){"userCancelled"!==e.detail?i(v.XW):U(!1)})),(0,c.HD)("iap-loading",(function(e){var t=e.detail;G((0,m.PK)(t))}),{once:!1}).catch((function(){G(!1)})),function(){var e,t;null===globalThis||void 0===globalThis||null===(e=globalThis.eventControllers)||void 0===e||null===(e=e["iap-error"])||void 0===e||e.abort(),null===globalThis||void 0===globalThis||null===(t=globalThis.eventControllers)||void 0===t||null===(t=t["iap-loading"])||void 0===t||t.abort()}}),[i,I,o,j]),(0,r.useEffect)((function(){return R?((0,c.HD)("iap-purchase-result",(function(e){"success"===e.detail&&o.push(p.j$)})),function(){var e;null===globalThis||void 0===globalThis||null===(e=globalThis.eventControllers)||void 0===e||null===(e=e["iap-purchase-result"])||void 0===e||e.abort()}):function(){}}),[R,o]),k("div",{className:"flex flex-1"},!n&&k(g.A,{autoDismissNotifications:!0}),k("div",{className:"flex flex-1 flex-col p-6",ref:function(e){var t,n;e&&(null!=E&&null!==(t=E[0])&&void 0!==t&&t.priceId&&!j&&S(null==E||null===(n=E[0])||void 0===n?void 0:n.priceId))}},!(0,d.B6)()&&k("div",{className:a()("flex flex-wrap items-center rounded-12 border border-border-subtlest-tertiary px-3 py-2 text-text-tertiary typo-callout tablet:mt-1",(t||n)&&"mb-6")},"Plus subscriptions aren't supported in this version of the app. ðŸš€ Upgrade to the latest version to purchase and supercharge your experience!"),k(y.nl,{productOptions:E||[],selectedOption:j,onChange:_,onContinue:!n&&q,shouldShowPlusHeader:t||n,showDailyDevLogo:n,continueEnabled:Z,isContinueLoading:M,showGiftButton:!1,showPlusList:n&&!1,showTrustReviews:n&&!1,title:Q,description:V}),n?k(r.Fragment,null,k(w.$n,{onClick:q,variant:C.Ak.Primary,className:"mt-8"},X)):k(r.Fragment,null,k(D,{className:"mt-6"}),k(T,null))),n&&k(P.A,null))}},73855:(e,t,n)=>{n.d(t,{PK:()=>l,rZ:()=>a,vv:()=>u});var r=n(50122),o=n(81602);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var l=function(e){return"string"==typeof e&&"true"===e.toLowerCase()},u=function(e,t){return"number"!=typeof e?"":e.toLocaleString(["en-US"],function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({minimumFractionDigits:2,maximumFractionDigits:2},t))},a=function(e){return e>1e5?(0,o.Kt)(e):u(e,{minimumFractionDigits:0})}}}]);