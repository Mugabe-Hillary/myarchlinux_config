"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[1220],{77501:(e,t,n)=>{n.d(t,{Ay:()=>p,Q0:()=>c,mi:()=>u,pJ:()=>s});var r=n(30395),a=n.n(r),i=n(22155),l=n(86548),o=i.createElement,u=function(e){var t=e.readOnly,n=e.isLocked,r=e.hasInput,a=e.disabled,i=e.focused,l=e.isPrimaryField;return t||n||r&&!i||l&&r?"text-text-tertiary":a?"text-text-disabled":"text-text-primary"},s=function(e){var t=e.readOnly,n=e.isLocked,r=e.disabled,a=e.focused,i=e.hasInput,l=e.hasActionIcon;return t&&l||i?"text-text-primary":t||n?"text-text-quaternary":r?"text-text-disabled":a?"text-text-quaternary":"text-text-tertiary hover:text-text-primary"},c=function(e){var t=e.isSecondaryField,n=e.isTertiaryField,r=e.placeholder,a=e.focused,i=e.label;return n?a?r:i:a||t?null!=r?r:"":i};function d(e,t){var n=e.className,r=void 0===n?{}:n,i=e.fieldType,s=void 0===i?"primary":i,c=e.readOnly,d=e.isLocked,p=e.hasInput,f=e.disabled,v=e.focused,y=e.inputId,h=e.label,m=e.children,b=e.invalid,g=e.hint,x=e.hintIcon,I=e.saveHintSpace,k=e.focusInput,O="secondary"===s;return o("div",{ref:t,className:a()("flex flex-col",r.container)},O&&o("label",{className:a()("mb-1 px-2 font-bold typo-caption1",r.outerLabel,u({readOnly:c,isLocked:d,hasInput:p,disabled:f,focused:v})),htmlFor:y},h),o(l.s,{"data-testid":"field",onClick:k,className:a()("relative flex",O?"rounded-10":"rounded-14",r.baseField,{readOnly:c,focused:v,invalid:b})},m),((null==g?void 0:g.length)||I)&&o("div",{role:b?"alert":void 0,className:a()("mt-1 flex items-center gap-1 px-2 typo-caption1",I&&"h-4",b?"text-status-error":"text-text-quaternary",r.hint)},x||void 0,g))}const p=(0,i.forwardRef)(d)},43660:(e,t,n)=>{n.d(t,{A:()=>b});var r=n(7527),a=n(50122),i=n(75087),l=n(22155),o=n(30395),u=n.n(o),s=n(86548),c=n(85436),d=n(77501),p=n(6721),f=["className","inputId","name","label","maxLength","showMaxLength","value","saveHintSpace","progress","hint","hintIcon","valid","validityChanged","valueChanged","placeholder","style","fieldType","isLocked","readOnly","leftIcon","actionButton","disabled","rightIcon","required","pressed","onBlur","focused","inputRef"],v=l.createElement;function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){var n,a=e.className,o=void 0===a?{}:a,y=e.inputId,m=e.name,b=e.label,g=e.maxLength,x=e.showMaxLength,I=void 0===x||x,k=e.value,O=e.saveHintSpace,A=void 0!==O&&O,C=e.progress,S=e.hint,R=e.hintIcon,w=e.valid,L=e.validityChanged,T=e.valueChanged,N=e.placeholder,F=(e.style,e.fieldType),j=void 0===F?"primary":F,P=e.isLocked,E=e.readOnly,q=void 0===E?P:E,B=e.leftIcon,D=e.actionButton,J=e.disabled,M=e.rightIcon,U=e.required,z=e.pressed,K=e.onBlur,V=e.focused,_=e.inputRef,H=(0,i.A)(e,f),Q=(0,p.A)({value:k,valueChanged:T,valid:w,validityChanged:L}),X=Q.validInput,G=Q.focused,Y=Q.hasInput,W=Q.focusInput,$=Q.inputRef,Z=Q.onFocus,ee=Q.onBlur,te=Q.onInput,ne=Q.inputLength,re=V||G,ae="primary"===j,ie="secondary"===j,le="tertiary"===j,oe=!1===X||U&&0===ne,ue=Y||!(null==$||null===(n=$.current)||void 0===n||null===(n=n.value)||void 0===n||!n.length),se=(0,l.useId)();return v(d.Ay,{ref:t,inputId:y,invalid:oe,focusInput:W,saveHintSpace:A,hint:S,hintIcon:R,fieldType:j,readOnly:q,isLocked:P,hasInput:Y,disabled:J,focused:re,label:b,className:h(h({},o),{},{container:u()("items-stretch",o.container),baseField:u()("flex-row items-center",c.A.field,o.baseField,B&&"pl-3",D&&"pr-3",ie?"h-9":"h-12")})},B&&v("span",{className:u()("mr-2",(0,d.pJ)({readOnly:q,disabled:J,hasInput:Y,focused:re,isLocked:P,hasActionIcon:!!M}))},B),v("div",{className:u()("flex max-w-full flex-1 flex-col items-start",D&&"mr-2")},ae&&(G||ue)&&v("label",{className:u()("typo-caption1",(0,d.mi)({readOnly:q,isLocked:P,hasInput:ue,focused:re,disabled:J,isPrimaryField:!0})),htmlFor:y.concat(se)},b),v(s.T,(0,r.A)({placeholder:(0,d.Q0)({label:b,focused:G,placeholder:N,isTertiaryField:le,isSecondaryField:ie}),name:m,id:y.concat(se),ref:function(e){$.current=e,null==_||_(e)},onFocus:Z,onBlur:function(e){K&&K(e),ee()},maxLength:g,readOnly:q,size:1,className:u()(c.A.input,"self-stretch text-ellipsis",null==o?void 0:o.input,(0,d.pJ)({readOnly:q,disabled:J,hasInput:ue,focused:re,hasActionIcon:!!M}),{pressed:z}),disabled:J,required:U},H,{onInput:function(e){te(e),H.onInput&&H.onInput(e)}})),C&&v("div",{className:u()("absolute bottom-0 h-[3px] rounded-10 transition-all",C)})),g&&I&&v("div",{className:"ml-2 font-bold typo-callout",style:{color:"var(--field-placeholder-color)"}},g-(ne||0)),M,D)}var b=(0,l.forwardRef)(m)},86548:(e,t,n)=>{n.d(t,{T:()=>i,s:()=>l});var r=n(63423),a=n(94992),i=(0,r.A)("input","min-w-0 bg-transparent typo-body caret-text-link focus:outline-none"),l=(0,r.A)("div","flex px-4 overflow-hidden bg-surface-float border border-transparent cursor-text",a.A.field)},28523:(e,t,n)=>{n.r(t),n.d(t,{default:()=>J});var r=n(7527),a=n(75087),i=n(22155),l=n(94198),o=n(16763),u=n(77955),s=n(83448),c=n(70591),d=n(57952),p=n(89338),f=n(2827),v=n.n(f),y=n(14243),h=n(91201),m=n(42104),b=n(30530),g=n(80244),x=n(62424),I=n(54883),k=n(37673),O={},A=n(53823),C=n(46721),S=n(27179),R=n(63913),w=n(9064),L=n(4315),T=n(36599),N=n(61663),F=i.createElement;const j=function(e){var t=e.url,n=e.targetType,r=(0,i.useContext)(N.Ay).logEvent,a=t||c.nf.referral.defaultUrl,l={whatsapp:{icon:F(S.Y,null),tooltip:"Share on WhatsApp",href:(0,C.EX)(a),shareProvider:C.JA.WhatsApp},facebook:{icon:F(R.i,null),tooltip:"Share on Facebook",href:(0,C.w4)(a),shareProvider:C.JA.Facebook},x:{icon:F(w.F,null),tooltip:"Share on X",href:(0,C.RY)(a,L.W.referral.generic.inviteText),shareProvider:C.JA.Twitter}};return F(i.Fragment,null,Object.values(l).map((function(e){var t=e.tooltip,a=e.icon,i=e.href,l=e.shareProvider;return F(T.S,{content:t,key:t},F(A.$n,{icon:a,href:i,variant:s.Ak.Tertiary,target:"_blank",rel:"noopener",tag:"a",onClick:function(){r({event_name:d.VB.InviteReferral,target_id:l,target_type:n})}}))})))};var P=n(34086),E=n(74689),q=n(82422),B=["onRequestClose"],D=i.createElement;const J=function(e){var t=e.onRequestClose,n=(0,a.A)(e,B),f=(0,i.useContext)(q.Ay).updateLastReferralReminder,A=(0,i.useState)(!1),C=A[0],S=A[1],R=function(e){var t,n=e.campaignKey,r=e.enabled,a=void 0===r||r,l=Object.values(k.p).includes(n),o=O[n],u=((0,x.rk)(o)||!o&&l)&&a,s=(0,h.D)().requestMethod,c=(0,i.useContext)(g.Ay).user,d=(0,b.$h)(b.jZ.ReferralCampaigns,c,{referralOrigin:n}),f=(0,y.I)({queryKey:d,queryFn:(t=(0,p.A)(v().mark((function e(){var t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(m.cb,{referralOrigin:n},{requestKey:JSON.stringify(d)});case 2:return t=e.sent,e.abrupt("return",t.referralCampaign);case 4:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)}),enabled:!(null==c||!c.id||!u),staleTime:b.SJ}),A=f.data,C=f.isSuccess,S=f.fetchStatus,R=null!=A?A:{},w=R.referralCountLimit,L=void 0===w?0:w,T=R.referredUsersCount,N=void 0===T?0:T,F=R.referralToken,j=N>L?L:N;return{referredUsersCount:N,referralCountLimit:L,url:R.url,referralToken:F,isReady:C||"idle"===S||I.zS,isCompleted:j>=L,availableCount:L-N,noKeysAvailable:L-N<=0}}({campaignKey:k.p.Generic}).url,w=R||c.nf.referral.defaultUrl,L=(0,N.DX)().logEvent,T=(0,i.useRef)(!1);return(0,i.useEffect)((function(){T.current||(f(),T.current=!0,L({event_name:d.VB.Impression,target_type:d.yK.ReferralPopup}))}),[L,f]),D(l.aF,(0,r.A)({},n,{onRequestClose:t,size:u.rI.Small}),D(E.O,{onClick:t,variant:s.Ak.Secondary,size:s.Mp.Small,top:"4",right:"4",zIndex:"2"}),D(l.aF.Body,null,D("div",{className:"relative z-1 mb-5 flex aspect-square w-full flex-col items-center justify-end"},D("h1",{className:"mb-4 font-bold typo-mega3"},"Invite friends"),D("p",{className:"text-text-secondary typo-title3"},"And make Ido (our CTO) smile again.")),D("img",{src:C?o.DA:o.x4,alt:C?"CTO Ido looking happy":"CTO Ido looking sad",className:"absolute left-0 top-0 z-0 aspect-square w-full object-cover"}),D(P.U,{logProps:{event_name:d.VB.CopyReferralLink,target_id:d.TB.GenericReferralPopup},link:w,onCopy:function(){return S(!0)},text:{initial:"Copy link ðŸ˜€",copied:"Copied ðŸ˜‰"}}),D("div",{className:"mt-7 flex items-center justify-center gap-3"},D("p",{className:"mr-1 text-text-tertiary typo-callout"},"Invite via"),D(j,{url:R,targetType:d.yK.GenericReferralPopup}))))}},34086:(e,t,n)=>{n.d(t,{U:()=>d});var r=n(98093),a=n(22155),i=n(53823),l=n(83448),o=n(43660),u=n(98235),s=n(61663),c=a.createElement;function d(e){var t,n,a,d,p=e.link,f=e.text,v=void 0===f?{}:f,y=e.onCopy,h=e.className,m=e.logProps,b=(0,u.L)((function(){return p})),g=(0,r.A)(b,2),x=g[0],I=g[1],k=(0,s.DX)().logEvent;return c(o.A,{className:h,name:"inviteURL",inputId:"inviteURL",label:"Your unique invite URL",type:"url",autoComplete:"off",value:p,fieldType:"tertiary",actionButton:c(i.$n,{size:l.Mp.Small,variant:l.Ak.Primary,onClick:function(){I(),k(m),y&&y()}},(a=null!==(t=null==v?void 0:v.initial)&&void 0!==t?t:"Copy link",d=null!==(n=null==v?void 0:v.copied)&&void 0!==n?n:"Copied",x?d:a)),readOnly:!0})}},95098:(e,t,n)=>{n.d(t,{G:()=>a});var r=n(22155);function a(e,t){var n=(0,r.useRef)(null),a=(0,r.useState)(!1),i=a[0],l=a[1],o=(0,r.useState)(!1),u=o[0],s=o[1],c=function(e){n.current.value=e,n.current.dispatchEvent(new Event("input",{bubbles:!0}))};(0,r.useEffect)((function(){var t;void 0!==e&&(c((null==e?void 0:e.toString())||""),s(!(null==n||null===(t=n.current)||void 0===t||null===(t=t.value)||void 0===t||!t.length)))}),[e]);return{inputRef:n,focused:i,hasInput:u,onFocus:function(){return l(!0)},onBlur:function(){return l(!1)},onInput:function(e){t&&t(e.currentTarget.value);var n=e.currentTarget.value.length;!u&&n?s(!0):u&&!n&&s(!1)},focusInput:function(){n.current.focus()},setInput:c}}},6721:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(98093),a=n(22155),i=n(34229),l=n(95098);const o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,n=e.valid,o=e.valueChanged,u=e.validityChanged,s=(0,l.G)(t,o),c=s.inputRef,d=s.focused,p=s.hasInput,f=s.onFocus,v=s.onBlur,y=s.onInput,h=s.focusInput,m=s.setInput,b=(0,a.useState)(void 0),g=b[0],x=b[1],I=(0,a.useState)(void 0),k=I[0],O=I[1],A=(0,a.useRef)(void 0),C=(0,i.A)((function(){O(c.current.checkValidity())}),500),S=(0,r.A)(C,2),R=S[0],w=S[1];return(0,a.useEffect)((function(){var e;null!==(e=c.current)&&void 0!==e&&e.value&&(x(c.current.value.length),c.current.checkValidity()&&O(!0))}),[c]),(0,a.useEffect)((function(){void 0!==k&&(null==u||u(k),A.current=k)}),[k]),(0,a.useEffect)((function(){void 0!==A.current&&void 0!==n&&O(n)}),[n]),{inputLength:g,inputRef:c,focused:d,hasInput:p,validInput:k,onFocus:f,onBlur:function(){w(),v(),c.current&&O(c.current.checkValidity())},onInput:function(e){w(),y(e),o&&o(e.currentTarget.value);var t=e.currentTarget.value.length;x(t),c.current.checkValidity()?O(!0):R()},focusInput:h,setInput:m}}},85436:(e,t,n)=>{n.d(t,{A:()=>r});const r={input:"XxfQr1w6K5DHV1cxQo5aYQ==",field:"DOQOigjBSuqHj7n2DJM7hw=="}},94992:(e,t,n)=>{n.d(t,{A:()=>r});const r={field:"OSaZMMeM+axN9uO6jYIrXA=="}}}]);