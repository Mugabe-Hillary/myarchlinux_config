"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[7892],{68334:(e,t,n)=>{n.d(t,{d:()=>h});var o=n(7527),a=n(75087),s=n(22155),d=n(30395),i=n.n(d);const r="_5r2X27zKbL3K-0KuztabLA==",l="_9VJTarzDvJAPMOKQbzHeEQ==",c="+hRUmPa5hVn8ncwI9jw3WQ==",u="D5NR++a7+cgnxCM1YywMSg==";var m=["className","labelClassName","inputId","name","checked","children","onToggle","compact","defaultTypo","disabled"],f=s.createElement;function p(e,t){var n=e.className,s=e.labelClassName,d=e.inputId,p=e.name,h=e.checked,w=e.children,b=e.onToggle,y=e.compact,N=void 0===y||y,v=e.defaultTypo,_=void 0===v||v,g=e.disabled,q=(0,a.A)(e,m);return f("label",{className:i()(n,"group relative flex items-center",g?"pointer-events-none cursor-not-allowed opacity-32":"cursor-pointer",c),htmlFor:d,ref:t},f("input",(0,o.A)({},q,{disabled:g,id:d,name:p,type:"checkbox",checked:h,onChange:b,className:"absolute h-0 w-0 opacity-0"})),f("span",{className:i()("relative block",N?"h-4 w-8":"h-5 w-10")},f("span",{className:i()("absolute bottom-0 left-0 top-0 my-auto w-full bg-theme-overlay-quaternary",N?"h-2.5 rounded-3":"h-3 rounded-4",r)}),f("span",{className:i()("absolute left-0 top-0 bg-text-tertiary",N?"h-4 w-4 rounded-3":"h-5 w-5 rounded-6",l)})),w&&f("span",{className:i()("ml-3 font-bold text-text-tertiary",_&&"typo-footnote",u,s)},w))}var h=s.forwardRef(p)},91988:(e,t,n)=>{n.r(t),n.d(t,{SquadNotificationsModal:()=>q,default:()=>k});var o=n(7527),a=n(75087),s=n(22155),d=n(69918),i=n(94198),r=n(79227),l=n(87822),c=n(68334),u=n(31121),m=n(30530),f=n(80244),p=n(85548),h=n(30395),w=n.n(h),b=["className","children"],y=s.createElement;function N(e){var t=e.className,n=e.children,s=(0,a.A)(e,b);return y("a",(0,o.A)({},s,{className:w()("text-text-link underline hover:no-underline",t)}),n)}var v=n(54883),_=["onRequestClose","squad"],g=s.createElement;function q(e){var t=e.onRequestClose,n=e.squad,h=(0,a.A)(e,_),w=(0,r.G)({params:[{referenceId:null==n?void 0:n.id,notificationType:u._n.SquadPostAdded},{referenceId:null==n?void 0:n.id,notificationType:u._n.SquadMemberJoined}],squad:n}),b=w.preferences,y=w.isPreferencesReady,q=w.muteNotification,k=w.clearNotificationPreference,M=w.showSourceFeedPosts,P=w.hideSourceFeedPosts,S=(0,d.jE)(),x=(0,f.Z2)().user,F=S.getQueryData((0,m.$h)(m.jZ.Squad,x,null==n?void 0:n.handle)),A=(0,s.useMemo)((function(){var e;return{hideFeedPosts:null==F||null===(e=F.currentMember)||void 0===e||null===(e=e.flags)||void 0===e?void 0:e.hideFeedPosts,mutedNewPosts:null==b?void 0:b.some((function(e){return(0,r.Q)(e,u._n.SquadPostAdded,null==n?void 0:n.id,[p.nb.Muted])})),mutedNewMembers:null==b?void 0:b.some((function(e){return(0,r.Q)(e,u._n.SquadMemberJoined,null==n?void 0:n.id,[p.nb.Muted])}))}}),[b,n,F]),C=A.hideFeedPosts,I=A.mutedNewPosts,T=A.mutedNewMembers;return y?g(i.aF,(0,o.A)({},h,{isOpen:!0,onRequestClose:t,kind:i.aF.Kind.FlexibleCenter,size:i.aF.Size.Small}),g(i.aF.Header,{title:"Notifications"}),g(i.aF.Body,{className:"gap-3"},g(c.d,{"data-testid":"show_new_posts-switch",inputId:"show_new_posts-switch",name:"show_new_posts",className:"w-20",compact:!1,checked:!C,onToggle:C?M:P},"Show new posts on my feed"),g(c.d,{"data-testid":"notify_new_posts-switch",inputId:"notify_new_posts-switch",name:"notify_new_posts",className:"w-20",compact:!1,checked:!I,onToggle:function(){return(I?k:q)({type:u._n.SquadPostAdded,referenceId:n.id})}},"Notify me about new posts"),n.currentMember.role===l._h.Admin&&g(c.d,{"data-testid":"notify_new_members-switch",inputId:"notify_new_members-switch",name:"notify_new_members",className:"w-20",compact:!1,checked:!T,onToggle:function(){return(T?k:q)({type:u._n.SquadMemberJoined,referenceId:n.id})}},"Notify me about new members"),g("p",{className:"text-text-tertiary typo-callout"},"For more options, go to your",g(N,{className:"ml-1",href:"".concat(v.ZO,"account/notifications")},"notifications settings")))):null}const k=q}}]);