"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[2955],{77501:(e,t,r)=>{r.d(t,{Ay:()=>v,Q0:()=>s,mi:()=>c,pJ:()=>u});var n=r(30395),a=r.n(n),o=r(22155),l=r(86548),i=o.createElement,c=function(e){var t=e.readOnly,r=e.isLocked,n=e.hasInput,a=e.disabled,o=e.focused,l=e.isPrimaryField;return t||r||n&&!o||l&&n?"text-text-tertiary":a?"text-text-disabled":"text-text-primary"},u=function(e){var t=e.readOnly,r=e.isLocked,n=e.disabled,a=e.focused,o=e.hasInput,l=e.hasActionIcon;return t&&l||o?"text-text-primary":t||r?"text-text-quaternary":n?"text-text-disabled":a?"text-text-quaternary":"text-text-tertiary hover:text-text-primary"},s=function(e){var t=e.isSecondaryField,r=e.isTertiaryField,n=e.placeholder,a=e.focused,o=e.label;return r?a?n:o:a||t?null!=n?n:"":o};function d(e,t){var r=e.className,n=void 0===r?{}:r,o=e.fieldType,u=void 0===o?"primary":o,s=e.readOnly,d=e.isLocked,v=e.hasInput,p=e.disabled,f=e.focused,m=e.inputId,h=e.label,y=e.children,b=e.invalid,g=e.hint,x=e.hintIcon,A=e.saveHintSpace,w=e.focusInput,O="secondary"===u;return i("div",{ref:t,className:a()("flex flex-col",n.container)},O&&i("label",{className:a()("mb-1 px-2 font-bold typo-caption1",n.outerLabel,c({readOnly:s,isLocked:d,hasInput:v,disabled:p,focused:f})),htmlFor:m},h),i(l.s,{"data-testid":"field",onClick:w,className:a()("relative flex",O?"rounded-10":"rounded-14",n.baseField,{readOnly:s,focused:f,invalid:b})},y),((null==g?void 0:g.length)||A)&&i("div",{role:b?"alert":void 0,className:a()("mt-1 flex items-center gap-1 px-2 typo-caption1",A&&"h-4",b?"text-status-error":"text-text-quaternary",n.hint)},x||void 0,g))}const v=(0,o.forwardRef)(d)},86548:(e,t,r)=>{r.d(t,{T:()=>o,s:()=>l});var n=r(63423),a=r(94992),o=(0,n.A)("input","min-w-0 bg-transparent typo-body caret-text-link focus:outline-none"),l=(0,n.A)("div","flex px-4 overflow-hidden bg-surface-float border border-transparent cursor-text",a.A.field)},20506:(e,t,r)=>{r.d(t,{K:()=>p});var n,a=r(7527),o=r(22155),l=r(97838);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(null,arguments)}const c=function(e){return o.createElement("svg",i({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),n||(n=o.createElement("path",{d:"M10 3.347c1.138 0 2.213.266 3.163.739-.255.462-.74.764-1.283.787l-.87.036A5.636 5.636 0 0010 4.818c-3.038 0-5.5 2.415-5.5 5.394 0 2.906 2.344 5.276 5.279 5.39l.221.004.221-.004c2.935-.114 5.279-2.484 5.279-5.39l-.003-.13.082-.215c.2-.524.676-.893 1.234-.967l.058-.005a6.771 6.771 0 01-.803 4.742 2.849 2.849 0 012.076.657l.157.143 1.872 1.836a2.731 2.731 0 010 3.916 2.864 2.864 0 01-3.852.13l-.14-.13-1.872-1.836a2.732 2.732 0 01-.818-2.19 7.062 7.062 0 01-3.491.914c-3.866 0-7-3.073-7-6.865 0-3.791 3.134-6.865 7-6.865zm5.37 12.13a1.28 1.28 0 00-.097 1.73l.096.106 1.872 1.836c.241.236.552.362.868.378h.135l.135-.013c.269-.04.527-.162.733-.365a1.28 1.28 0 00.097-1.73l-.097-.106-1.871-1.835a1.342 1.342 0 00-1.872 0zm.05-12.056l.044 1.013a2.493 2.493 0 001.648 2.225l.97.355c.457.167.35.83-.138.85l-1.033.044a2.592 2.592 0 00-.304.03l-.05.01c-.08.014-.159.032-.236.054l-.147.046-.18.07-.168.08-.113.063-.141.09-.164.121-.032.026c-.323.27-.579.62-.734 1.026l-.361.95a.43.43 0 01-.373.285h-.078l-.077-.012a.429.429 0 01-.34-.407l-.044-1.014a2.493 2.493 0 00-1.648-2.224l-.97-.355c-.457-.167-.35-.83.138-.85l1.034-.044c.3-.013.588-.077.855-.185l.109-.048c.175-.08.34-.178.49-.294l.148-.122.12-.114.136-.152.045-.056.078-.104.055-.082-.03.046a2.47 2.47 0 00.262-.505l.362-.95c.17-.45.846-.345.867.134z",fill:"currentcolor",fillRule:"evenodd"})))};var u;function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(null,arguments)}const d=function(e){return o.createElement("svg",s({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),u||(u=o.createElement("path",{d:"M10 3a6.97 6.97 0 013.288.819l-.034.092-.045.109c-.017.035-.034.07-.053.104l-.051.083-.036.055-.051.069-.02.025-.103.112-.068.063-.094.076a1.517 1.517 0 01-.266.157l-.103.047c-.13.052-.305.091-.484.099l-1.034.044c-1.577.068-1.923 2.252-.444 2.804l.97.361c.578.216.971.757.998 1.375l.044 1.033a1.433 1.433 0 001.102 1.344l.157.029.164.012h.078c.627-.054 1.101-.402 1.303-.94l.361-.97c.093-.248.246-.465.445-.634l.025-.021.126-.094.081-.05.063-.033.113-.053.111-.04.082-.025a1.92 1.92 0 01.114-.024l.04-.007a1.52 1.52 0 01.175-.018l-.024.002c.046.325.07.657.07.995 0 1.272-.34 2.465-.932 3.492a2.813 2.813 0 012.076.67l.157.147 1.872 1.871a2.823 2.823 0 01-3.852 4.125l-.14-.132-1.872-1.872a2.817 2.817 0 01-.818-2.234A7 7 0 1110 3zm5.37 12.37a1.324 1.324 0 00-.097 1.763l.096.108 1.872 1.871c.241.242.552.37.868.386h.135l.135-.014a1.324 1.324 0 00.83-2.136l-.097-.107-1.871-1.872a1.323 1.323 0 00-1.872 0zm.05-11.94l.044 1.033a2.537 2.537 0 001.648 2.268l.97.362c.457.17.35.846-.138.867l-1.033.044-.153.011-.15.02-.051.01c-.08.014-.159.033-.236.055l-.147.047-.18.071-.168.082-.113.064-.141.092-.164.124-.032.026a2.534 2.534 0 00-.734 1.046l-.361.97a.432.432 0 01-.296.276l-.077.013h-.078l-.077-.011a.435.435 0 01-.34-.416l-.044-1.033a2.537 2.537 0 00-1.648-2.269l-.97-.361c-.457-.171-.35-.847.138-.868l1.034-.044c.3-.013.588-.078.855-.188l.109-.05c.175-.08.34-.181.49-.3l.148-.124.12-.116.136-.155.045-.057.078-.106.03-.049-.004.008.006-.009.092-.15a2.54 2.54 0 00.163-.352l.362-.97c.17-.457.846-.35.867.138z",fill:"currentcolor",fillRule:"evenodd"})))};var v=o.createElement,p=function(e){return v(l.Ay,(0,a.A)({},e,{IconPrimary:c,IconSecondary:d}))}},96044:(e,t,r)=>{r.d(t,{W:()=>m});var n,a=r(7527),o=r(75087),l=r(22155),i=r(97838);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(null,arguments)}const u=function(e){return l.createElement("svg",c({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),n||(n=l.createElement("path",{d:"M10 3a7 7 0 016.068 10.492 2.813 2.813 0 012.076.67l.157.147 1.872 1.871a2.823 2.823 0 01-3.852 4.125l-.14-.132-1.872-1.872a2.817 2.817 0 01-.818-2.234A7 7 0 1110 3zm7.24 12.37a1.323 1.323 0 00-1.967 1.763l.096.108 1.872 1.871c.241.242.552.37.868.386h.135l.135-.014a1.324 1.324 0 00.83-2.136l-.097-.107-1.871-1.872zM10 4.5a5.5 5.5 0 00-.221 10.996L10 15.5l.221-.004A5.5 5.5 0 0010 4.5z",fill:"currentcolor",fillRule:"evenodd"})))};var s;function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(null,arguments)}const v=function(e){return l.createElement("svg",d({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),s||(s=l.createElement("path",{d:"M15.394 15.394a2.052 2.052 0 012.763-.126l.138.126 2.127 2.128.128.144a2.052 2.052 0 01-1.123 3.278l-.192.038-.208.018h-.181a2.045 2.045 0 01-1.205-.47l-.141-.129-2.127-2.128-.128-.144a2.052 2.052 0 01.025-2.6l.124-.135zM9.75 3a6.75 6.75 0 01.511 13.482l-.251.014-.271.005-.26-.005A6.75 6.75 0 019.75 3z",fill:"currentcolor",fillRule:"evenodd"})))};var p=["size"],f=l.createElement,m=function(e){var t=e.size,r=(0,o.A)(e,p);return f(i.Ay,(0,a.A)({},r,{size:t,IconPrimary:u,IconSecondary:v}))}},96719:(e,t,r)=>{r.r(t),r.d(t,{SearchPanel:()=>V,default:()=>U});var n=r(50122),a=r(22155),o=r(30395),l=r.n(o),i=r(9487),c=r(36797),u=r.n(c),s=r(7527),d=r(86548),v=r(57952),p=r(97838),f=r(77501),m=r(20506),h=r(24927),y=r(95098),b=r(61663),g=r(80244),x=r(28926),A=r(27496),w=r(72870),O=r(4004),N=r(68390),P=a.createElement,I=function(e){var t=e.className,r=e.keys,n=(0,a.useState)(!1),o=n[0],i=n[1];return(0,a.useEffect)((function(){i(!0)}),[]),o?P("div",{className:l()(t,"flex")},r.map((function(e,t){return P(a.Fragment,{key:e},P("kbd",{className:"flex min-w-5 justify-center rounded-8 border border-border-subtlest-tertiary bg-background-subtle px-2 py-0.5 font-sans text-text-tertiary typo-footnote"},e),t!==r.length-1&&P("span",{className:"mx-1 py-0.5 text-text-tertiary typo-footnote"},"+"))}))):null},S=r(4394),j=r(60092),k=a.createElement;function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T=q(q({},j.Au),{},(0,n.A)({},S.dw.Posts,void 0)),z=function(e){var t=e.className,r=(0,a.useContext)(A.I);if(r.providerIcon)return r.providerIcon;var n=T[r.provider];return n?k(n,{className:l()(t,"rounded-8 p-1"),size:p.lK.Large}):null},M=r(10867),B=a.createElement,C=function(e){var t=e.className,r=(0,a.useContext)(A.I),n=(0,M.X)();if(!r.providerText)return null;var o=null==n?void 0:n.sanitize;return B("div",{className:l()(null==t?void 0:t.main,"pointer-events-none absolute left-14 flex h-10")},B("span",{"aria-hidden":"true",className:l()(null==t?void 0:t.input,"invisible typo-body")},r.query),!!o&&B("div",{className:"ml-0.5 flex items-center rounded-4 bg-overlay-quaternary-cabbage px-1"},B("span",{className:"text-text-tertiary typo-footnote",dangerouslySetInnerHTML:{__html:o(r.providerText)}})))},L=r(87192),F=r(53823),D=r(83448),R=r(63204),_=r(54883),G=a.createElement,K=[(0,N.lg)()?"âŒ˜":"Ctrl","K"],W=function(e){var t=e.className,r=e.inputProps,n=e.valueChanged,o=e.children,c=(0,i.useRouter)(),u=(0,L.Z)().search,P=(0,a.useContext)(A.I),k=(0,a.useRef)(),E=(0,b.DX)().logEvent,q=r||{},T=q.value,M=q.readOnly,B=q.disabled,W=q.onFocus,X=q.onBlur,H=q.onClick,Z=q.placeholder,J=void 0===Z?P.isActive?"Search posts or ask a question...":"Search":Z,V=(0,y.G)(T,n),U=V.inputRef,$=V.focused,Q=V.hasInput,Y=V.onFocus,ee=V.onBlur,te=V.onInput,re=V.setInput,ne=(0,g.Z2)(),ae=ne.isLoggedIn,oe=ne.showLogin,le=(0,w.G6)(w.bh.Laptop);(0,O.M)(globalThis,"click",(function(e){(0,N.hX)(k.current)||k.current.contains(e.target)||!k.current||(ee(),P.setActive({isActive:!1}))}));var ie=P.isActive&&P.query.length>=S.Tp;(0,O.M)(globalThis,"keydown",(function(e){var t,r;(0,N.N9)({event:e})&&"k"===e.key&&(e.preventDefault(),P.isActive?(null===(t=U.current)||void 0===t||t.blur(),P.setActive({isActive:!1})):(null===(r=U.current)||void 0===r||r.focus(),P.setActive({isActive:!0}),E({event_name:v.VB.KeyboardShortcutTriggered,target_id:v.TB.SearchActivation})))})),(0,O.M)(globalThis,"keydown",(function(e){var t;"Escape"===e.key&&(e.preventDefault(),P.isActive&&(null===(t=U.current)||void 0===t||t.blur(),P.setActive({isActive:!1})))}));var ce=(0,R.O)({provider:void 0,text:j.AP[j.B5]});return G("div",{className:l()(null==t?void 0:t.container)},G("form",{onSubmit:function(e,t){var r,n;if(e.preventDefault(),!ae)return oe({trigger:x._f.SearchInput});var a=null!=t?t:U.current.value,o=null!==(r=P.provider)&&void 0!==r?r:j.B5;return E({event_name:v.VB.SubmitSearch,extra:JSON.stringify({query:a,provider:o})}),re(a),P.setActive({isActive:!1}),null===(n=U.current)||void 0===n||n.blur(),u({provider:o,query:a})},className:l()(null==t?void 0:t.form,"relative w-full")},G(d.s,{className:l()("relative h-12 items-center rounded-12 !bg-background-subtle !px-3 laptop:border laptop:py-1 laptop:backdrop-blur-[3.75rem]",null==t?void 0:t.field,{focused:$},P.isActive&&"!border-border-subtlest-tertiary laptop:shadow-2",P.isActive&&ie?"laptop:rounded-b-none laptop:rounded-t-16":"laptop:rounded-16"),ref:k},G(m.K,{size:p.lK.Large,className:"mr-3 text-text-tertiary"}),G(d.T,(0,s.A)({},r,{"data-search-panel-item":"true",placeholder:J,ref:U,onFocus:function(e){Y(),null==W||W(e),ce.onFocus(e),E({event_name:v.VB.FocusSearch})},onBlur:function(e){ee(),null==X||X(e),ce.onBlur(e)},onClick:function(e){ae||oe({trigger:x._f.SearchInput}),null==H||H(e)},onInput:te,type:"primary",autoComplete:"off",className:l()("h-full flex-1",P.isActive?"!placeholder-text-quaternary":"!placeholder-text-tertiary",(0,f.pJ)({readOnly:M,disabled:B,hasInput:Q,focused:$}))})),G("div",{className:l()("flex h-full items-center bg-background-subtle",P.isActive&&"-mr-2")},P.isActive&&!!P.query&&G(F.$n,{id:"search-panel-input-clear-button",type:"button",className:"mr-2",size:D.Mp.XSmall,title:"Clear query",onClick:function(e){var t;e.stopPropagation(),c.push("".concat(_.ZO,"posts")),re(""),null===(t=U.current)||void 0===t||t.focus()},icon:G(h.v,{secondary:!0})}),P.isActive&&G("div",{className:"flex h-full items-center border-l border-surface-float laptop:hidden"},G(F.$n,{type:"button",onClick:function(){P.setActive({isActive:!1})}},"Cancel"))),G("div",{className:"z-1 hidden items-center gap-3 laptop:flex"},!P.isActive&&G(I,{keys:K}),P.isActive&&P.query.length>=S.Tp&&G(a.Fragment,null,le&&G(C,null),G(z,{className:"ml-2"})))),o))},X=a.createElement;function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J=u()((function(){return r.e(9748).then(r.bind(r,31452))}),{ssr:!1,loadableGenerated:{webpack:function(){return[31452]}}}),V=function(e){var t=e.className,r=(0,i.useRouter)().query,n=(0,a.useState)((function(){return{provider:void 0,query:"",isActive:!1,providerText:void 0,providerIcon:void 0}})),o=n[0],c=n[1],u=(0,a.useRef)();(0,a.useEffect)((function(){var e,t=null==r||null===(e=r.q)||void 0===e?void 0:e.toString();t&&c((function(e){return e.query?e:Z(Z({},e),{},{query:t})}))}),[null==r?void 0:r.q]);var s=(0,a.useMemo)((function(){return Z(Z({},o),{},{setProvider:function(e){var t=e.provider,r=e.text,n=e.icon;c((function(e){return Z(Z({},e),{},{provider:t,providerText:r||void 0,providerIcon:n||void 0})}))},setActive:function(e){var t=e.isActive;c((function(e){return Z(Z({},e),{},{isActive:t})}))}})}),[o]),d=o.isActive&&o.query.length>=S.Tp;return X(A.I.Provider,{value:s},X("div",{ref:u,className:l()(null==t?void 0:t.container,"flex flex-col"),"data-testid":"search-panel"},X(W,{className:{container:l()("w-full laptop:w-[26.25rem] laptop:max-w-[29.5rem] laptopL:w-full laptopL:max-w-[35rem]"),field:null==t?void 0:t.field},valueChanged:function(e){c((function(t){return Z(Z({},t),{},{query:e,provider:void 0,providerText:j.AP[j.B5],providerIcon:void 0})}))},inputProps:{value:o.query,onFocus:function(){s.setActive({isActive:!0})}}},d&&X(J,{query:o.query,anchor:u}))))};const U=V},27496:(e,t,r)=>{r.d(t,{I:()=>l});var n=r(22155),a=r(4394),o=function(){},l=(0,n.createContext)({provider:a.dw.Posts,providerText:void 0,providerIcon:void 0,query:"",isActive:!1,setProvider:o,setActive:o})},60092:(e,t,r)=>{r.d(t,{AP:()=>y,Au:()=>b,B5:()=>h});var n,a,o=r(7527),l=r(75087),i=r(50122),c=r(22155),u=r(30395),s=r.n(u),d=r(4394),v=r(96044),p=r(90102),f=["className"],m=c.createElement,h=d.dw.Posts,y=(n={},(0,i.A)(n,d.dw.Posts,"Search posts"),(0,i.A)(n,d.dw.Tags,"Search tags"),(0,i.A)(n,d.dw.Google,"Search on Google"),(0,i.A)(n,d.dw.Sources,"Search sources"),(0,i.A)(n,d.dw.Users,"Search users"),n),b=(a={},(0,i.A)(a,d.dw.Posts,v.W),(0,i.A)(a,d.dw.Tags,v.W),(0,i.A)(a,d.dw.Google,(function(e){var t=e.className,r=(0,l.A)(e,f);return m(p.N,(0,o.A)({className:s()(t,"bg-white"),secondary:!0},r))})),(0,i.A)(a,d.dw.Sources,v.W),(0,i.A)(a,d.dw.Users,v.W),a)},63204:(e,t,r)=>{r.d(t,{O:()=>l});var n=r(22155),a=r(27496),o=r(60092),l=function(e){var t=e.provider,r=e.text,l=e.icon,i=(0,n.useContext)(a.I),c=function(){i.setProvider({provider:t,text:r||o.AP[t],icon:l})},u=function(){i.setProvider({provider:void 0})};return{onMouseEnter:c,onMouseLeave:u,onFocus:function(e){(null==e?void 0:e.target)instanceof HTMLElement&&e.target.setAttribute("data-search-panel-active","true");c()},onBlur:function(e){(null==e?void 0:e.target)instanceof HTMLElement&&e.target.removeAttribute("data-search-panel-active");u()}}}},95098:(e,t,r)=>{r.d(t,{G:()=>a});var n=r(22155);function a(e,t){var r=(0,n.useRef)(null),a=(0,n.useState)(!1),o=a[0],l=a[1],i=(0,n.useState)(!1),c=i[0],u=i[1],s=function(e){r.current.value=e,r.current.dispatchEvent(new Event("input",{bubbles:!0}))};(0,n.useEffect)((function(){var t;void 0!==e&&(s((null==e?void 0:e.toString())||""),u(!(null==r||null===(t=r.current)||void 0===t||null===(t=t.value)||void 0===t||!t.length)))}),[e]);return{inputRef:r,focused:o,hasInput:c,onFocus:function(){return l(!0)},onBlur:function(){return l(!1)},onInput:function(e){t&&t(e.currentTarget.value);var r=e.currentTarget.value.length;!c&&r?u(!0):c&&!r&&u(!1)},focusInput:function(){r.current.focus()},setInput:s}}},94992:(e,t,r)=>{r.d(t,{A:()=>n});const n={field:"OSaZMMeM+axN9uO6jYIrXA=="}}}]);