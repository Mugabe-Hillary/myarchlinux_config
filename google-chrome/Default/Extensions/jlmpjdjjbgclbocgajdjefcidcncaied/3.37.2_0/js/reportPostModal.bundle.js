"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[2114,9686],{95412:(e,t,n)=>{n.d(t,{S:()=>p});var r=n(7527),a=n(75087),o=n(22155),l=n(30395),i=n.n(l),c=n(36780),s=n(52788),u=["name","checked","children","className","checkmarkClassName","onToggleCallback","id","disabled","defaultChecked"],d=o.createElement,p=(0,o.forwardRef)((function(e,t){var n=e.name,l=e.checked,p=e.children,f=e.className,b=e.checkmarkClassName,m=e.onToggleCallback,y=e.id,v=void 0===y?"":y,h=e.disabled,g=e.defaultChecked,k=(0,a.A)(e,u),O=(0,o.useState)(null!=l?l:g),A=O[0],R=O[1],w=(0,o.useId)(),P=v.concat(w);(0,o.useEffect)((function(){R(null!=l?l:g)}),[l,g]);return d("label",{className:i()("relative z-1 inline-flex select-none items-center p-1 pr-3 text-text-tertiary typo-footnote",!h&&"cursor-pointer",s.A.label,f,{checked:A,disabled:h}),style:{transition:"color 0.1s linear"},htmlFor:P},d("input",(0,r.A)({"aria-labelledby":"label-span-".concat(w),checked:l,defaultChecked:g,className:"absolute h-0 w-0 opacity-0","data-testid":"checkbox-input",disabled:h,id:P,name:n,onChange:function(e){R(e.target.checked),null==m||m(e.target.checked)},ref:t,type:"checkbox"},k)),d("div",{"aria-checked":l,"aria-labelledby":"label-".concat(w),className:i()("relative z-1 mr-3 flex h-5 w-5 items-center justify-center rounded-6 border-2 border-border-subtlest-primary",s.A.checkmark,b),role:"checkbox"},d(c.w,{"aria-hidden":!0,className:"icon h-full w-full text-text-primary opacity-0",role:"presentation",style:{transition:"opacity 0.1s linear"}})),d("span",{className:"min-w-0 flex-1",id:"label-span-".concat(w)},p))}))},84606:(e,t,n)=>{n.r(t),n.d(t,{OTHER_KEY:()=>m,ReasonSelectionModal:()=>y,default:()=>v});var r=n(7527),a=n(75087),o=n(22155),l=n(35234),i=n(53823),c=n(83448),s=n(94198),u=n(16714),d=n(72870),p=n(64142),f=["onReport","reasons","heading","title","footer","disabled"],b=o.createElement,m="OTHER";function y(e){var t=e.onReport,n=e.reasons,y=e.heading,v=e.title,h=e.footer,g=e.disabled,k=(0,a.A)(e,f),O=(0,o.useState)(null),A=O[0],R=O[1],w=(0,o.useState)(),P=w[0],S=w[1],E=(0,d.G6)(d.bh.MobileL),x={disabled:!A||A===m&&!P||g,onClick:function(e){return t(e,A,P)}};return b(s.aF,(0,r.A)({isOpen:!0,kind:s.aF.Kind.FixedCenter},k,{formProps:{form:null,title:y,rightButtonProps:x,copy:{right:"Submit report"}}}),b(s.aF.Header,{title:y}),b(s.aF.Body,{className:"py-5"},v&&b("p",{className:"mb-6 text-text-tertiary typo-callout"},v),b(l.s,{name:"report_reason",options:"function"==typeof n?n(A):n,value:A,onChange:R}),b("p",{className:"mb-1 mt-6 px-2 font-bold typo-caption1"},"Anything else you'd like to add?"),b("textarea",{onInput:function(e){return S(e.currentTarget.value)},onFocus:function(){A||R(p.dV.Other)},className:"mb-1 h-20 w-full resize-none self-stretch rounded-10 bg-surface-float p-2 typo-body","data-testid":"report_comment"}),E?h:null),b(s.aF.Footer,{justify:h&&!E?u.F1.Between:u.F1.End},E?null:h,b(i.$n,{variant:c.Ak.Primary,disabled:!A||A===m&&!P||g,onClick:function(e){return t(e,A,P)}},"Submit report")))}const v=y},90516:(e,t,n)=>{n.r(t),n.d(t,{ReportPostModal:()=>S,default:()=>E});var r=n(7527),a=n(89338),o=n(50122),l=n(75087),i=n(92203),c=n(2827),s=n.n(c),u=n(22155),d=n(95412),p=n(53823),f=n(83448),b=n(16714),m=n(30062),y=n(11924),v=n(61663),h=n(84606),g=n(64142),k=["index","post","origin","onReported"],O=u.createElement;function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=[{value:g.dV.Irrelevant,label:"Off-topic or wrong tags"},{value:g.dV.Broken,label:"Broken link"},{value:g.dV.Clickbait,label:"Misleading or clickbait"},{value:g.dV.Paywall,label:"Paywalled or inaccessible content"},{value:g.dV.Low,label:"Low-quality or AI-generated"},{value:g.dV.Spam,label:"Spam or scam"},{value:g.dV.Hateful,label:"Hate speech or harassment"},{value:g.dV.Nsfw,label:"Inappropriate, explicit, or NSFW"},{value:g.dV.Misinformation,label:"Misinformation or politically-oriented"},{value:g.dV.Copyright,label:"Plagiarism or copyright violation"},{value:g.dV.Privacy,label:"Privacy violation"},{value:g.dV.Other,label:"Other"}],P={IRRELEVANT:function(e){var t,n=e.post,r=e.selectedTags,a=e.setSelectedTags;return O(b.Ye,{className:"my-4 flex-wrap gap-2"},null===(t=n.tags)||void 0===t?void 0:t.map((function(e){var t=r.includes(e);return O(p.$n,{key:e,variant:t?f.Ak.Primary:f.Ak.Float,size:f.Mp.Small,onClick:function(){a(t?r.filter((function(t){return t!==e})):[].concat((0,i.A)(r),[e]))}},"#",e)})))}};function S(e){var t,n=e.index,o=e.post,i=e.origin,c=e.onReported,p=(0,l.A)(e,k),f=(0,v.DX)().logEvent,b=(0,u.useRef)(),g=(0,u.useState)((function(){return[]})),A=g[0],S=g[1],E=(0,u.useCallback)((function(e){return w.filter((function(e){var t;return("IRRELEVANT"!==e.value||0!==(null==o||null===(t=o.tags)||void 0===t?void 0:t.length))&&e})).map((function(t){var n=t.value===e&&P[t.value];return n?R(R({},t),{},{afterElement:O(n,{post:o,selectedTags:A,setSelectedTags:S})}):t}))}),[o,A]),x=(0,m.A)().reportPost,C=function(){var e=(0,a.A)(s().mark((function e(t,r,a){var l,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x({id:o.id,reason:r,comment:a,tags:A});case 2:if(l=e.sent,l.successful){e.next=6;break}return e.abrupt("return");case 6:f((0,y.P5)("report post",o,{extra:{origin:i,reason:r,comment:a}})),"function"==typeof c&&c(o,{index:n,shouldBlockSource:null===(u=b.current)||void 0===u?void 0:u.checked}),p.onRequestClose(t);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return O(h.ReasonSelectionModal,(0,r.A)({},p,{isOpen:!0,onReport:C,reasons:E,heading:"Report post",title:null!=o&&o.title?'"'.concat(o.title,'"'):void 0,footer:O(d.S,{ref:b,name:"blockSource",className:"font-normal"},"Don't show posts from ",null==o||null===(t=o.source)||void 0===t?void 0:t.name)}))}const E=S},64142:(e,t,n)=>{n.d(t,{UR:()=>b,_q:()=>p,dV:()=>d,kt:()=>u});var r,a=n(50122),o=n(91591),l=n(2972),i=n(36899);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){return e.Post="post",e.Source="source",e.Comment="comment",e.User="user",e}({}),d=function(e){return e.Nsfw="NSFW",e.Other="OTHER",e.Broken="BROKEN",e.Clickbait="CLICKBAIT",e.Low="LOW",e.Irrelevant="IRRELEVANT",e.Spam="SPAM",e.Harassment="HARASSMENT",e.Hateful="HATEFUL",e.Copyright="COPYRIGHT",e.Privacy="PRIVACY",e.Miscategorized="MISCATEGORIZED",e.Misinformation="MISINFORMATION",e.Illegal="ILLEGAL",e.Paywall="PAYWALL",e}({}),p=(0,l.gql)(r||(r=(0,o.A)(["\n  mutation SendReport(\n    $type: ReportEntity!\n    $id: ID!\n    $reason: ReportReason!\n    $comment: String\n    $tags: [String]\n  ) {\n    sendReport(\n      type: $type\n      id: $id\n      reason: $reason\n      comment: $comment\n      tags: $tags\n    ) {\n      _\n    }\n  }\n"]))),f=function(e){return i.e.request(p,e)},b=function(e){return f(s(s({},e),{},{type:u.Source}))}},52788:(e,t,n)=>{n.d(t,{A:()=>r});const r={checkmark:"Ur6sCRLeLJ0xiAl0Ry8kcA==",label:"_0ta8J6BOiKQx6kRDDsqEHg=="}}}]);